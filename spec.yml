openapi: 3.0.0
info:
  title: ZUCKZAPGO
  description: "ZUCKZAPGO implements a multi user and multi device REST API for WhatsApp.\n\n<h2>Authentication</h2><ul><li>Standard Endpoints: Include the token header with a valid user token (matches tokens stored in the users database table).</li><li>Admin Endpoints: Use the Authorization header with the admin token (set in .env as ZUCKZAPGO_ADMIN_TOKEN).</li></ul><h2>Admin Setup:</h2>You can manage users and do some tests by using the builtin dashboard [here](/dashboard).<h3>Add a Sample User via API</h3>Run this command to create a test user:<pre><code>curl -X POST http://localhost:8080/admin/users \\ \n-H \"Authorization: $ZUCKZAPGO_ADMIN_TOKEN\" \\ \n-H \"Content-Type: application/json\" \\ \n-d '{\"name\": \"John\", \"token\": \"Z1234ABCCXD\"}' </code> </pre>\n\n<h2>Webhook Configuration</h2>To receive WhatsApp messages:<ul><li>Host your own server (to process incoming messages).</li><li>Set its URL as the webhook via the [webhook](#Webhook) API call.</li></ul><h2>Phone number format:</h2><ul><li>Required: Country code (e.g. <b>5491155553934</b> for Argentina</li><li>Do not prefix with a plus sign (+), as natively whatsapp requires no plus sign prefix.</li></ul>"
  version: '1.2.4'
  termsOfService: ''
   
schemes:
  - http

servers:
  - url: '/'
    description: Current host

paths:
  /admin/users:
    get:
      tags:
        - Admin
      summary: List all users
      description: Retrieve a complete list of all ZuckZapGo users with their full configuration including connection status, webhook settings, proxy configuration, S3 storage, RabbitMQ messaging, WhatsApp configuration, and event filtering preferences.
      security:
        - AdminAuth: []
      responses:
        200:
          description: A JSON array of user objects with complete configuration
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    type: array
                    items:
                      $ref: '#/definitions/User'
                  success:
                    type: boolean
                    example: true
                example: { "code": 200, "data": [ { "connected": true, "loggedIn": true, "events": "All", "expiration": 0, "id": "bec45bb93cbd24cbec32941ec3c93a12", "jid": "5491155551122:12@s.whatsapp.net", "name": "Some User", "avatar_url": "https://example.com/avatar.jpg", "token": "d030sl9aDL39sl3075zz", "webhook": "https://some.domain/webhook", "qrcode": "", "skip_media_download": false, "skip_groups": false, "skip_newsletters": false, "skip_broadcasts": false, "skip_own_messages": false, "skip_calls": false, "call_reject_message": "Sorry, I cannot take calls at the moment.", "call_reject_type": "busy", "proxy_config": { "enabled": false, "proxy_url": "" }, "s3_config": { "enabled": false }, "rabbitmq_config": { "enabled": false }, "whatsapp_config": { "wa_platform": "WEB", "wa_release_channel": "RELEASE" } } ], "success": true }
        401:
          description: Unauthorized - Admin token required
          content:
            application/json:
              schema:
                example: {"error": "unauthorized - admin token required"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"code": 500, "error": "problem accessing DB", "success": false}
    post:
      tags:
        - Admin
      summary: Create a new ZuckZapGo user account
      description: Create a new ZuckZapGo user account with complete configuration options including webhook URL, proxy settings, S3 storage configuration, RabbitMQ messaging setup, WhatsApp client configuration, and event filtering settings. The user will receive a unique ID and authentication token upon successful creation. All configuration options are optional and will use sensible defaults if not provided. Admin authentication required.
      security:
        - AdminAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/CreateUser'
      responses:
        201:
          description: User created
          content:
            application/json:
              schema:
                $ref: '#/definitions/User'
              example:
                code: 201
                data:
                  id: "5663e0c52063ec35d0ba45f7c2011c06"
                  name: "John Doe"
                  token: "1234ABCD"
                  skip_media_download: false
                  skip_groups: false
                  skip_newsletters: false
                  skip_broadcasts: false
                  skip_own_messages: false
                  skip_calls: false
                  call_reject_message: "Sorry, I cannot take calls at the moment."
                  call_reject_type: "busy"
                  webhook: "https://webhook.site/1234567890"
                  events: "All"
                  proxy_config:
                    enabled: true
                    proxy_url: "https://serverproxy.com:9080"
                  s3_config:
                    enabled: true
                    endpoint: "https://s3.amazonaws.com"
                    region: "us-east-1"
                    bucket: "my-bucket"
                    access_key: "***"
                    path_style: true
                    public_url: "https://s3.amazonaws.com"
                    media_delivery: "both"
                    retention_days: 30
                    disable_acl: true
                  rabbitmq_config:
                    enabled: true
                    url: "amqp://guest:guest@localhost:5672/"
                    events: "All"
                    exchange: "whatsapp.events"
                    exchange_type: "topic"
                    queue: "whatsapp.user.{user_id}"
                    queue_type: "classic"
                    routing_key: "whatsapp.{event_type}"
                    durable: true
                    auto_delete: false
                    exclusive: false
                    no_wait: false
                    delivery_mode: 2
                  whatsapp_config:
                    wa_version: "2.3000.1026436087"
                    wa_platform: "WEB"
                    wa_release_channel: "RELEASE"
                    wa_web_sub_platform: "WEB_BROWSER"
                    wa_os_name: "Mac OS 10"
                    wa_os_version: "10.15.7"
                    wa_device_name: "Desktop"
                    wa_manufacturer: "Apple"
                    wa_device_board: ""
                    wa_locale_language: "en"
                    wa_locale_country: "US"
                    wa_mcc: "000"
                    wa_mnc: "000"
                    wa_connect_type: "WIFI_UNKNOWN"
                    wa_platform_type: "DESKTOP"
  /admin/users/{id}:
    get:
      tags:
        - Admin
      summary: Get specific user by ID
      description: Retrieve detailed information about a specific ZuckZapGo user by their unique ID, including complete configuration, connection status, webhook settings, proxy configuration, S3 storage, RabbitMQ messaging, WhatsApp configuration, and event filtering preferences.
      security:
        - AdminAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: Unique ID of the user to retrieve
          schema:
            type: string
            example: 4e4942c7dee1deef99ab8fd9f7350de5
      responses:
        200:
          description: User details retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    type: array
                    items:
                      $ref: '#/definitions/User'
                    description: "Array containing the single user object"
                  success:
                    type: boolean
                    example: true
                example: { "code": 200, "data": [ { "connected": true, "loggedIn": true, "events": "All", "expiration": 0, "id": "4e4942c7dee1deef99ab8fd9f7350de5", "jid": "5491155551122:12@s.whatsapp.net", "name": "John Doe", "avatar_url": "https://example.com/avatar.jpg", "token": "1234ABCD", "webhook": "https://webhook.site/1234567890", "qrcode": "", "skip_media_download": false, "skip_groups": false, "skip_newsletters": false, "skip_broadcasts": false, "skip_own_messages": false, "skip_calls": false, "call_reject_message": "Sorry, I cannot take calls at the moment.", "call_reject_type": "busy", "proxy_config": { "enabled": true, "proxy_url": "https://serverproxy.com:9080" }, "s3_config": { "enabled": true, "endpoint": "https://s3.amazonaws.com", "region": "us-east-1", "bucket": "my-bucket" }, "rabbitmq_config": { "enabled": true, "url": "amqp://guest:guest@localhost:5672/", "exchange": "whatsapp.events" }, "whatsapp_config": { "wa_platform": "WEB", "wa_release_channel": "RELEASE", "wa_web_sub_platform": "WEB_BROWSER" } } ], "success": true }
        401:
          description: Unauthorized - Admin token required
          content:
            application/json:
              schema:
                example: {"error": "unauthorized - admin token required"}
        404:
          description: User not found
          content:
            application/json:
              schema:
                example: {"code": 404, "error": "user not found", "success": false}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"code": 500, "error": "problem accessing DB", "success": false}
    delete:
      tags:
        - Admin
      summary: Delete a user from DB
      description: Deletes a user by their ID.
      security:
        - AdminAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user to delete
          schema:
            type: string
            example: 4e4942c7dee1deef99ab8fd9f7350de5
      responses:
        200:
          description: User deleted
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"id":"6b927654cada7635a4586bf8fad260a3"},"details":"User deleted successfully","success":true}
  /admin/users/{id}/full:
    delete:
      tags:
        - Admin
      summary: Delete a user from DB, S3, RabbitMQ, logout and disconnect from whatsapp and clear it up from memory
      description: Deletes a user by their ID, including login out, disconnect and memory cleanup Also removes all user files from S3 and RabbitMQ.
      security:
        - AdminAuth: []
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user to delete
          schema:
            type: string
            example: 4e4942c7dee1deef99ab8fd9f7350de5
      responses:
        200:
          description: User deleted
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"id":"4e4942c7dee1deef99ab8fd9f7350de5","jid":"","name":"mariano"},"details":"User instance removed completely","success":true}
  /newsletter/list:
    get:
      tags:
        - Newsletter
      summary: List subscribed newsletters
      description: Get complete list of subscribed newsletters with metadata
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Newsletter list retrieved successfully
          content:
            application/json:
              schema:
                example: {"Newsletter": [{"id": "120363144038483540@newsletter", "state": {"type": "active"}, "thread_metadata": {"creation_time": "1688746895", "description": {"id": "1689653839450668", "text": "WhatsApp's official channel", "update_time": "1689653839450668"}, "invite": "0029Va4K0PZ5a245NkngBA2M", "name": {"id": "1688746895480511", "text": "WhatsApp", "update_time": "1688746895480511"}, "subscribers_count": "1000000", "verification": "verified"}, "viewer_metadata": {"mute": "off", "role": "subscriber"}}]}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /newsletter/create:
    post:
      tags:
        - Newsletter
      summary: Create new newsletter/channel
      description: Create a new WhatsApp newsletter/channel with optional picture (supports base64 data URLs and HTTP(S) URLs)
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
              properties:
                name:
                  type: string
                  description: Newsletter name (automatically truncated to 25 characters)
                  maxLength: 25
                  example: "My Newsletter"
                description:
                  type: string
                  description: Newsletter description (optional)
                  example: "A newsletter about interesting topics"
                picture:
                  type: string
                  description: Base64 data URL (data:image/jpeg;base64,...) or HTTP(S) URL for newsletter picture. Supported formats JPEG, PNG, GIF, WebP
                  example: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD..."
      responses:
        200:
          description: Newsletter created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  jid:
                    type: string
                  name:
                    type: string
                  message:
                    type: string
                example: {"success": true, "jid": "120363025246817665@newsletter", "name": "My Newsletter", "message": "Newsletter created successfully"}
        400:
          description: Bad request - validation error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": false, "message": "name is required"}
        500:
          description: Internal server error - no session
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/subscribed:
    get:
      tags:
        - Newsletter
      summary: Get subscribed newsletters
      description: List all newsletters that the user is subscribed to with structured information
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Subscribed newsletters retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  newsletters:
                    type: array
                    items:
                      type: object
                      properties:
                        jid:
                          type: string
                        name:
                          type: string
                        description:
                          type: string
                        subscribers:
                          type: integer
                        muted:
                          type: boolean
                        invite_code:
                          type: string
                example: {"success": true, "newsletters": [{"jid": "120363025246817665@newsletter", "name": "Tech News", "description": "Latest tech updates", "subscribers": 1500, "muted": false, "invite_code": "ABC123XYZ"}]}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": false, "message": "no session"}
  /newsletter/info:
    post:
      tags:
        - Newsletter
      summary: Get newsletter information
      description: Get detailed information about a specific newsletter by JID
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
              properties:
                jid:
                  type: string
                  description: Newsletter JID (format 120363025246817665@newsletter)
                  example: "120363025246817665@newsletter"
      responses:
        200:
          description: Newsletter information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  jid:
                    type: string
                  name:
                    type: string
                  description:
                    type: string
                  subscribers:
                    type: integer
                  invite_code:
                    type: string
                  muted:
                    type: boolean
                  role:
                    type: string
                example: {"jid": "120363025246817665@newsletter", "name": "Tech News", "description": "Latest technology updates", "subscribers": 1500, "invite_code": "ABC123XYZ", "muted": false, "role": "subscriber"}
        400:
          description: Bad request - invalid newsletter ID
          content:
            application/json:
              schema:
                type: string
                example: "invalid newsletter ID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/send:
    post:
      tags:
        - Newsletter
      summary: Send message to newsletter
      description: Send text, image, video, document, or audio message to a newsletter. Media supports both base64 data URLs and HTTP(S) URLs. Audio messages are sent as voice notes (PTT=true) for newsletters.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
              properties:
                jid:
                  type: string
                  description: Newsletter JID
                  example: "120363025246817665@newsletter"
                message:
                  type: string
                  description: Text message content (for text messages)
                  example: "Hello subscribers!"
                image:
                  type: string
                  description: Base64 data URL (data:image/jpeg;base64,...) or HTTP(S) URL for image
                  example: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD..."
                video:
                  type: string
                  description: Base64 data URL (data:video/mp4;base64,...) or HTTP(S) URL for video
                  example: "https://example.com/video.mp4"
                document:
                  type: string
                  description: Base64 data URL (data:application/pdf;base64,...) or HTTP(S) URL for document
                  example: "data:application/pdf;base64,JVBERi0xLjQKJcfs..."
                audio:
                  type: string
                  description: Base64 data URL (data:audio/ogg;base64,...) or HTTP(S) URL for audio (automatically sent as voice note PTT=true for newsletters)
                  example: "data:audio/ogg;base64,T2dnUwACAAAAAAAAAAA..."
                caption:
                  type: string
                  description: Caption for media messages (image, video)
                  example: "Check this out!"
                filename:
                  type: string
                  description: Filename for document messages (defaults to 'document' if not provided)
                  example: "document.pdf"
              oneOf:
                - required: ["message"]
                - required: ["image"]
                - required: ["video"]
                - required: ["document"]
                - required: ["audio"]
      responses:
        200:
          description: Message sent successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
                  timestamp:
                    type: integer
                    format: int64
                example: {"success": true, "id": "3EB0C767D26A1D74", "timestamp": 1640995200}
        400:
          description: Bad request - invalid input or no content
          content:
            application/json:
              schema:
                type: string
                example: "no message content provided"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/follow:
    post:
      tags:
        - Newsletter
      summary: Subscribe to newsletter
      description: Subscribe to a newsletter using its JID
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
              properties:
                jid:
                  type: string
                  description: Newsletter JID to subscribe to
                  example: "120363025246817665@newsletter"
      responses:
        200:
          description: Successfully subscribed to newsletter
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": true, "message": "Subscribed successfully"}
        400:
          description: Bad request - invalid newsletter ID
          content:
            application/json:
              schema:
                type: string
                example: "invalid newsletter ID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/follow-invite:
    post:
      tags:
        - Newsletter
      summary: Subscribe via invite code
      description: Subscribe to a newsletter using an invite code
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - invite_code
              properties:
                invite_code:
                  type: string
                  description: Newsletter invite code
                  example: "ABC123XYZ"
      responses:
        200:
          description: Successfully subscribed via invite code
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  jid:
                    type: string
                example: {"success": true, "message": "Subscribed successfully", "jid": "120363025246817665@newsletter"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "error getting info"
  /newsletter/unfollow:
    post:
      tags:
        - Newsletter
      summary: Unsubscribe from newsletter
      description: Unsubscribe from a newsletter using its JID
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
              properties:
                jid:
                  type: string
                  description: Newsletter JID to unsubscribe from
                  example: "120363025246817665@newsletter"
      responses:
        200:
          description: Successfully unsubscribed from newsletter
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": true, "message": "Unsubscribed successfully"}
        400:
          description: Bad request - invalid newsletter ID
          content:
            application/json:
              schema:
                type: string
                example: "invalid newsletter ID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/unfollow-invite:
    post:
      tags:
        - Newsletter
      summary: Unsubscribe via invite code
      description: Unsubscribe from a newsletter using an invite code
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - invite_code
              properties:
                invite_code:
                  type: string
                  description: Newsletter invite code
                  example: "ABC123XYZ"
      responses:
        200:
          description: Successfully unsubscribed via invite code
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": true, "message": "Unsubscribed successfully"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "error getting info"
  /newsletter/mute:
    post:
      tags:
        - Newsletter
      summary: Mute/unmute newsletter notifications
      description: Toggle mute status for newsletter notifications
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
                - mute
              properties:
                jid:
                  type: string
                  description: Newsletter JID
                  example: "120363025246817665@newsletter"
                mute:
                  type: boolean
                  description: True to mute notifications, false to enable
                  example: true
      responses:
        200:
          description: Mute status changed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": true, "message": "Notifications muted successfully"}
        400:
          description: Bad request - invalid JID
          content:
            application/json:
              schema:
                type: string
                example: "invalid JID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/messages:
    post:
      tags:
        - Newsletter
      summary: Get newsletter messages
      description: Retrieve messages from a newsletter with pagination support
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
              properties:
                jid:
                  type: string
                  description: Newsletter JID
                  example: "120363025246817665@newsletter"
                count:
                  type: integer
                  description: Number of messages to retrieve (default 25)
                  default: 25
                  example: 25
                before:
                  type: integer
                  description: Server ID to get messages before this ID (for pagination)
                  example: 12345
      responses:
        200:
          description: Newsletter messages retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  messages:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        server_id:
                          type: integer
                        type:
                          type: string
                        timestamp:
                          type: integer
                          format: int64
                        text:
                          type: string
                        caption:
                          type: string
                        views_count:
                          type: integer
                        reaction_counts:
                          type: object
                        media:
                          type: object
                example: {"success": true, "messages": [{"id": "3EB0C767D26A1D74", "server_id": 12345, "type": "text", "timestamp": 1640995200, "text": "Hello world!", "views_count": 150, "reaction_counts": {"👍": 25, "❤️": 10}}]}
        400:
          description: Bad request - invalid newsletter ID
          content:
            application/json:
              schema:
                type: string
                example: "invalid newsletter ID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/reaction:
    post:
      tags:
        - Newsletter
      summary: Send reaction to newsletter message
      description: Send an emoji reaction to a specific newsletter message
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
                - server_id
                - reaction
              properties:
                jid:
                  type: string
                  description: Newsletter JID
                  example: "120363025246817665@newsletter"
                server_id:
                  type: integer
                  description: Server ID of the message to react to
                  example: 12345
                reaction:
                  type: string
                  description: Emoji reaction (empty string to remove reaction)
                  example: "👍"
      responses:
        200:
          description: Reaction sent successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": true, "message": "Reaction sent successfully"}
        400:
          description: Bad request - invalid JID
          content:
            application/json:
              schema:
                type: string
                example: "invalid JID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/mark-viewed:
    post:
      tags:
        - Newsletter
      summary: Mark newsletter messages as viewed
      description: Mark specific newsletter messages as viewed to update read status
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
                - server_ids
              properties:
                jid:
                  type: string
                  description: Newsletter JID
                  example: "120363025246817665@newsletter"
                server_ids:
                  type: array
                  items:
                    type: integer
                  description: Array of server IDs to mark as viewed
                  example: [12345, 12346, 12347]
      responses:
        200:
          description: Messages marked as viewed successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": true, "message": "Messages marked as viewed"}
        400:
          description: Bad request - invalid JID
          content:
            application/json:
              schema:
                type: string
                example: "invalid JID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/subscribe-live-updates:
    post:
      tags:
        - Newsletter
      summary: Subscribe to live updates
      description: Subscribe to real-time updates for a newsletter (30 second timeout)
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
              properties:
                jid:
                  type: string
                  description: Newsletter JID
                  example: "120363025246817665@newsletter"
      responses:
        200:
          description: Successfully subscribed to live updates
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  duration:
                    type: number
                    format: float
                  message:
                    type: string
                example: {"success": true, "duration": 3600.0, "message": "Subscribed to live updates"}
        400:
          description: Bad request - invalid JID
          content:
            application/json:
              schema:
                type: string
                example: "invalid JID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/message-updates:
    post:
      tags:
        - Newsletter
      summary: Get newsletter message updates
      description: Get updates for newsletter messages with filtering options
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - jid
              properties:
                jid:
                  type: string
                  description: Newsletter JID
                  example: "120363025246817665@newsletter"
                count:
                  type: integer
                  description: Number of updates to retrieve (optional)
                  example: 25
                since:
                  type: integer
                  format: int64
                  description: Unix timestamp to get updates since (optional)
                  example: 1640995200
                after:
                  type: integer
                  description: Server ID to get updates after (optional)
                  example: 12345
      responses:
        200:
          description: Message updates retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  updates:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        server_id:
                          type: integer
                        type:
                          type: string
                        timestamp:
                          type: integer
                          format: int64
                        views_count:
                          type: integer
                        reaction_counts:
                          type: object
                        text:
                          type: string
                        caption:
                          type: string
                        media:
                          type: object
                example: {"success": true, "updates": [{"id": "3EB0C767D26A1D74", "server_id": 12346, "type": "text", "timestamp": 1640995300, "text": "Updated message", "views_count": 200, "reaction_counts": {"👍": 30, "❤️": 15}}]}
        400:
          description: Bad request - invalid JID
          content:
            application/json:
              schema:
                type: string
                example: "invalid JID"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/accept-tos:
    post:
      tags:
        - Newsletter
      summary: Accept Terms of Service
      description: Accept WhatsApp Terms of Service notice required for newsletter creation
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notice_id:
                  type: string
                  description: Terms of Service notice ID (default "20601218" for newsletter creation)
                  default: "20601218"
                  example: "20601218"
                stage:
                  type: string
                  description: TOS stage (default "5" for newsletter creation)
                  default: "5"
                  example: "5"
      responses:
        200:
          description: Terms of service accepted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                example: {"success": true, "message": "Terms of service accepted"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: string
                example: "no session"
  /newsletter/admin-invite:
      post:
        tags:
          - Newsletter
        summary: Send Newsletter Admin Invite
        description: Send an admin invitation for a newsletter to a phone number with image and custom message
        security:
          - ApiKeyAuth: []
        requestBody:
          required: true
          content:
            application/json:
              schema:
                type: object
                required:
                  - phone
                  - newsletter_jid
                  - image
                  - caption
                  - name
                properties:
                  phone:
                    type: string
                    description: Recipient phone number (with country code, no + prefix)
                    example: "5491155553934"
                  newsletter_jid:
                    type: string
                    description: Newsletter JID to invite admin for
                    example: "120363025246817665@newsletter"
                  image:
                    type: string
                    description: Base64 data URL or HTTP(S) URL for invitation image
                    example: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD..."
                  caption:
                    type: string
                    description: Invitation message text
                    example: "You're invited to be an admin of our newsletter!"
                  name:
                    type: string
                    description: Newsletter/invite name
                    example: "Tech Newsletter Admin Invite"
        responses:
          200:
            description: Admin invite sent successfully
            content:
              application/json:
                schema:
                  example: {"success": true, "id": "3EB0C767D26A1D74", "timestamp": 1640995200, "recipient": "5491155553934", "newsletter_jid": "120363025246817665@newsletter", "invite_name": "Tech Newsletter Admin Invite", "expires_at": 1641600000, "message": "Newsletter admin invite sent successfully"}
          400:
            description: Bad request - invalid input
            content:
              application/json:
                schema:
                  example: {"error": "phone, newsletter_jid, image, caption and name are required"}
          500:
            description: Internal server error
            content:
              application/json:
                schema:
                  example: {"error": "no session"}
  /health:
    get:
      tags:
        - System
      summary: Health check
      description: Returns system health status for monitoring purposes
      responses:
        200:
          description: System is healthy
          content:
            application/json:
              schema:
                example: {"status": "ok", "timestamp": "2024-01-01T12:00:00Z", "version": "3.0.0"}
        503:
          description: System is unhealthy
          content:
            application/json:
              schema:
                example: {"status": "error", "timestamp": "2024-01-01T12:00:00Z", "error": "Database connection failed"}
  /webhook:
    get:
      tags:
        - Webhook
      summary: Shows webhook 
      description: |
        Gets the configured webhook and subscribed events.

        ## Webhook

        The following _webhook_ endpoints are used to get or set the webhook that will be called whenever a message or event is received. Available event types are:

        **Messages and Communication:**
        * Message - Incoming/outgoing messages
        * UndecryptableMessage - Messages that couldn't be decrypted
        * Receipt - Message delivery receipts
        * MediaRetry - Media message retry events
        * ReadReceipt - Message read receipts

        **Groups and Contacts:**
        * GroupInfo - Group information changes
        * JoinedGroup - User joined/left group events
        * Picture - Profile/group picture changes
        * BlocklistChange - Blocklist modification events
        * Blocklist - Complete blocklist updates

        **Connection and Session:**
        * Connected - Successfully connected to WhatsApp
        * Disconnected - Disconnected from WhatsApp
        * ConnectFailure - Connection failure events
        * KeepAliveRestored - Connection keep-alive restored
        * KeepAliveTimeout - Connection keep-alive timeout
        * LoggedOut - User logged out
        * ClientOutdated - Client version outdated
        * TemporaryBan - Temporary account ban
        * StreamError - WebSocket stream errors
        * StreamReplaced - WebSocket stream replaced
        * PairSuccess - Device pairing successful
        * PairError - Device pairing failed
        * QR - QR code generation/updates
        * QRScannedWithoutMultidevice - QR scanned without multidevice

        **Privacy and Settings:**
        * PrivacySettings - Privacy settings changes
        * PushNameSetting - Push name updates
        * UserAbout - User about/status changes

        **Synchronization and State:**
        * AppState - Application state changes
        * AppStateSyncComplete - App state sync completed
        * HistorySync - Message history synchronization
        * OfflineSyncCompleted - Offline sync completed
        * OfflineSyncPreview - Offline sync preview

        **Calls:**
        * CallOffer - Incoming call offer
        * CallAccept - Call accepted
        * CallTerminate - Call terminated
        * CallOfferNotice - Call offer notification
        * CallRelayLatency - Call relay latency updates

        **Presence and Activity:**
        * Presence - User online/offline status
        * ChatPresence - Chat typing/recording status

        **Identity and Security:**
        * IdentityChange - User identity changes

        **Errors:**
        * CATRefreshError - CAT token refresh errors

        **Newsletter (WhatsApp Channels):**
        * NewsletterJoin - Joined newsletter/channel
        * NewsletterLeave - Left newsletter/channel
        * NewsletterMuteChange - Newsletter mute status change
        * NewsletterLiveUpdate - Newsletter live updates

        **Facebook/Meta Bridge:**
        * FBMessage - Facebook messages

        **Special:**
        * All - Subscribes to all event types above
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "subscribe": [ "Message", "ReadReceipt" ], "webhook": "https://example.net/webhook" }, "success": true }

    post:
      tags:
        - Webhook
      summary: Sets webhook 
      description: |
        Sets the webhook that will be used to POST information when messages are received and configures the events to subscribe to.

        ## Webhook

        The following _webhook_ endpoints are used to get or set the webhook that will be called whenever a message or event is received. Available event types are:

        **Messages and Communication:**
        * Message - Incoming/outgoing messages
        * UndecryptableMessage - Messages that couldn't be decrypted
        * Receipt - Message delivery receipts
        * MediaRetry - Media message retry events
        * ReadReceipt - Message read receipts

        **Groups and Contacts:**
        * GroupInfo - Group information changes
        * JoinedGroup - User joined/left group events
        * Picture - Profile/group picture changes
        * BlocklistChange - Blocklist modification events
        * Blocklist - Complete blocklist updates

        **Connection and Session:**
        * Connected - Successfully connected to WhatsApp
        * Disconnected - Disconnected from WhatsApp
        * ConnectFailure - Connection failure events
        * KeepAliveRestored - Connection keep-alive restored
        * KeepAliveTimeout - Connection keep-alive timeout
        * LoggedOut - User logged out
        * ClientOutdated - Client version outdated
        * TemporaryBan - Temporary account ban
        * StreamError - WebSocket stream errors
        * StreamReplaced - WebSocket stream replaced
        * PairSuccess - Device pairing successful
        * PairError - Device pairing failed
        * QR - QR code generation/updates
        * QRScannedWithoutMultidevice - QR scanned without multidevice

        **Privacy and Settings:**
        * PrivacySettings - Privacy settings changes
        * PushNameSetting - Push name updates
        * UserAbout - User about/status changes

        **Synchronization and State:**
        * AppState - Application state changes
        * AppStateSyncComplete - App state sync completed
        * HistorySync - Message history synchronization
        * OfflineSyncCompleted - Offline sync completed
        * OfflineSyncPreview - Offline sync preview

        **Calls:**
        * CallOffer - Incoming call offer
        * CallAccept - Call accepted
        * CallTerminate - Call terminated
        * CallOfferNotice - Call offer notification
        * CallRelayLatency - Call relay latency updates

        **Presence and Activity:**
        * Presence - User online/offline status
        * ChatPresence - Chat typing/recording status

        **Identity and Security:**
        * IdentityChange - User identity changes

        **Errors:**
        * CATRefreshError - CAT token refresh errors

        **Newsletter (WhatsApp Channels):**
        * NewsletterJoin - Joined newsletter/channel
        * NewsletterLeave - Left newsletter/channel
        * NewsletterMuteChange - Newsletter mute status change
        * NewsletterLiveUpdate - Newsletter live updates

        **Facebook/Meta Bridge:**
        * FBMessage - Facebook messages

        **Special:**
        * All - Subscribes to all event types above
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/WebhookSet'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "WebhookURL": "https://example.net/webhook", "Events": ["Message", "ReadReceipt"] }, "success": true }
    delete:
      tags:
        - Webhook
      summary: Deletes webhook 
      description: Removes the configured webhook and clears events for the user
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Webhook and events deleted successfully" }, "success": true }
    put:
      tags:
        - Webhook
      summary: Updates webhook
      description: |
        Updates the webhook URL, events, and activation status.

        ## Webhook

        The following _webhook_ endpoints are used to get or set the webhook that will be called whenever a message or event is received. Available event types are:

        **Messages and Communication:**
        * Message - Incoming/outgoing messages
        * UndecryptableMessage - Messages that couldn't be decrypted
        * Receipt - Message delivery receipts
        * MediaRetry - Media message retry events
        * ReadReceipt - Message read receipts

        **Groups and Contacts:**
        * GroupInfo - Group information changes
        * JoinedGroup - User joined/left group events
        * Picture - Profile/group picture changes
        * BlocklistChange - Blocklist modification events
        * Blocklist - Complete blocklist updates

        **Connection and Session:**
        * Connected - Successfully connected to WhatsApp
        * Disconnected - Disconnected from WhatsApp
        * ConnectFailure - Connection failure events
        * KeepAliveRestored - Connection keep-alive restored
        * KeepAliveTimeout - Connection keep-alive timeout
        * LoggedOut - User logged out
        * ClientOutdated - Client version outdated
        * TemporaryBan - Temporary account ban
        * StreamError - WebSocket stream errors
        * StreamReplaced - WebSocket stream replaced
        * PairSuccess - Device pairing successful
        * PairError - Device pairing failed
        * QR - QR code generation/updates
        * QRScannedWithoutMultidevice - QR scanned without multidevice

        **Privacy and Settings:**
        * PrivacySettings - Privacy settings changes
        * PushNameSetting - Push name updates
        * UserAbout - User about/status changes

        **Synchronization and State:**
        * AppState - Application state changes
        * AppStateSyncComplete - App state sync completed
        * HistorySync - Message history synchronization
        * OfflineSyncCompleted - Offline sync completed
        * OfflineSyncPreview - Offline sync preview

        **Calls:**
        * CallOffer - Incoming call offer
        * CallAccept - Call accepted
        * CallTerminate - Call terminated
        * CallOfferNotice - Call offer notification
        * CallRelayLatency - Call relay latency updates

        **Presence and Activity:**
        * Presence - User online/offline status
        * ChatPresence - Chat typing/recording status

        **Identity and Security:**
        * IdentityChange - User identity changes

        **Errors:**
        * CATRefreshError - CAT token refresh errors

        **Newsletter (WhatsApp Channels):**
        * NewsletterJoin - Joined newsletter/channel
        * NewsletterLeave - Left newsletter/channel
        * NewsletterMuteChange - Newsletter mute status change
        * NewsletterLiveUpdate - Newsletter live updates

        **Facebook/Meta Bridge:**
        * FBMessage - Facebook messages

        **Special:**
        * All - Subscribes to all event types above
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/WebhookUpdate'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Webhook": "https://example.net/webhook", "Events": ["Message", "ReadReceipt"], "active": true }, "success": true }
  /session/connect:
    post:
      tags:
        - Session 
      summary: connects to WhatsApp servers
      description: "Initiates connection to WhatsApp servers.\n\nIf there is no previous session created, it will generate a QR code that can be retrieved via the [qr](#/Session/get_session_qr) API call.\n\nIf the optional Subscribe is supplied it will limit webhooks to the specified event types. Available events: Message, UndecryptableMessage, Receipt, MediaRetry, ReadReceipt, GroupInfo, JoinedGroup, Picture, BlocklistChange, Blocklist, Connected, Disconnected, ConnectFailure, KeepAliveRestored, KeepAliveTimeout, LoggedOut, ClientOutdated, TemporaryBan, StreamError, StreamReplaced, PairSuccess, PairError, QR, QRScannedWithoutMultidevice, PrivacySettings, PushNameSetting, UserAbout, AppState, AppStateSyncComplete, HistorySync, OfflineSyncCompleted, OfflineSyncPreview, CallOffer, CallAccept, CallTerminate, CallOfferNotice, CallRelayLatency, Presence, ChatPresence, IdentityChange, CATRefreshError, NewsletterJoin, NewsletterLeave, NewsletterMuteChange, NewsletterLiveUpdate, FBMessage, All.\n\nIf no Subscribe is supplied it will subscribe to All events.\n\nIf Immediate is set to false, the action will wait for 10 seconds to retrieve actual connection status from whatsapp, otherwise it will return immediatly.\n\nWhen setting Immediate to true you should check for actual connection status after a few seconds via the [status](#/Session/get_session_status) API call as your connection might fail if the session was closed from another device.\n\n**Connection Behavior:**\n- If you have a valid stored session (previously logged in), it will connect directly without requiring QR code scanning\n- If no valid session exists, a QR code will be generated that must be scanned with your phone\n- Use this endpoint after calling [disconnect](#/Session/post_session_disconnect) to reconnect without QR scanning"
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/Connect'

      responses:
        200:
          description: Response

          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "details": "Connected!", "events": "Message", "jid": "5491155555555.0:53@s.whatsapp.net", "webhook": "https://some.site/webhook?request=parameter" }, "success": true }
  /session/disconnect:
    post:
      tags:
        - Session 
      summary: disconnects from WhatsApp servers
      description: "**Soft Disconnect - WebSocket Only**\n\nCloses the WebSocket connection to WhatsApp servers while preserving your session credentials. This is a **non-destructive operation** that:\n\n- ✅ Maintains your login session and stored credentials\n- ✅ Allows reconnection using [connect](#/Session/post_session_connect) **without QR code scanning**\n- ✅ Preserves all chat history and settings\n- ✅ Keeps the session valid for future connections\n\n**Use Cases:**\n- Temporarily pause message receiving (maintenance, debugging)\n- Switch between different webhook configurations\n- Restart connection without losing authentication\n- Network troubleshooting\n\n**Important:** After disconnect, you can reconnect instantly with the connect endpoint. No QR code scanning required as your WhatsApp session remains active and valid.\n\n**Comparison with other endpoints:**\n- Use `disconnect` for temporary connection suspension\n- Use [logout](#/Session/post_session_logout) for complete session termination\n- Use [refresh](#/Session/post_session_refresh) for session cleanup without disconnection"
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Disconnected" }, "success": true }
  /session/logout:
    post:
      tags:
        - Session 
      summary: Logs out from WhatsApp 
      description: "**Complete Session Termination - Full Logout**\n\nPerforms a complete logout and terminates all connections to WhatsApp servers. This is a **destructive operation** that:\n\n- ❌ **Completely removes** your stored session and credentials\n- ❌ **Requires QR code scanning** for next connection\n- ❌ Closes all WebSocket connections permanently\n- ❌ Clears all local session data and authentication tokens\n- ❌ Invalidates the session on WhatsApp's servers\n\n**What happens after logout:**\n1. Your device is removed from WhatsApp's active device list\n2. All stored session credentials are permanently deleted\n3. Next [connect](#/Session/post_session_connect) call will require fresh QR code authentication\n4. You must scan the QR code with your phone to re-establish the session\n\n**Use Cases:**\n- Permanently removing the API connection from your WhatsApp account\n- Security purposes (revoke access completely)\n- Switching to a different WhatsApp account\n- Full reset of the API integration\n\n**Important:** This action cannot be undone. After logout, you must go through the complete setup process again, including QR code scanning.\n\n**Comparison with other endpoints:**\n- Use [disconnect](#/Session/post_session_disconnect) for temporary suspension (preserves session)\n- Use `logout` for permanent termination (requires new QR setup)\n- Use [refresh](#/Session/post_session_refresh) for session cleanup without logout"
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Logged out" }, "success": true }
  /session/refresh:
    post:
      tags:
        - Session
      summary: Refresh and clean up session without disconnection
      description: "**Session Refresh - Clean Memory Without Reconnection**\n\nPerforms a session cleanup and refresh operation while maintaining the active connection. This is a **maintenance operation** that:\n\n- ✅ **Preserves** your active WebSocket connection\n- ✅ **Maintains** your login session and credentials  \n- ✅ **Cleans up** memory leaks and stale data\n- ✅ **Refreshes** internal session state\n- ✅ **No QR code required** - session remains active\n- ✅ **No reconnection needed** - WebSocket stays connected\n\n**What happens during refresh:**\n1. Cleans up accumulated memory and cached data\n2. Refreshes internal session management structures\n3. Validates and updates session metadata\n4. Maintains all active connections and subscriptions\n5. Preserves message history and chat state\n\n**Use Cases:**\n- Periodic maintenance to prevent memory leaks\n- Resolve session inconsistencies without full reconnection\n- Clean up after extended periods of high message volume\n- Refresh session after configuration changes\n- Troubleshoot connection issues without losing authentication\n\n**Benefits:**\n- Zero downtime - no disconnection occurs\n- Instant operation - no waiting for reconnection\n- Maintains message continuity\n- Resolves memory-related performance issues\n\n**Comparison with other endpoints:**\n- Use [disconnect](#/Session/post_session_disconnect) for temporary suspension (stops message flow)\n- Use [logout](#/Session/post_session_logout) for complete termination (requires QR)\n- Use `refresh` for maintenance while staying connected (no interruption)"
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Session refreshed successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Session refreshed successfully", "timestamp": "2024-01-15T10:30:00Z" }, "success": true }
        400:
          description: Bad request - refresh not possible
          content:
            application/json:
              schema:
                example: { "code": 400, "error": "Cannot refresh session - not connected", "success": false }
        500:
          description: Internal server error during refresh
          content:
            application/json:
              schema:
                example: { "code": 500, "error": "Session refresh failed", "success": false }
  /session/status:
    get:
      tags:
        - Session 
      summary: Gets connection and session status
      description: Gets status from connection, including websocket connection and logged in status (session)
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Connected": true, "LoggedIn": true }, "success": true }
  /session/pairphone:
    post:
      tags:
        - Session
      summary: Gets pair by phone code
      description: Gets the code to enter into whatsapp client when pairing by phone number instead of QR code
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/Pairphone'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "LinkingCode" : "9H3J-H3J8" }, "success": true }
  /session/qr:
    get:
      tags:
        - Session 
      summary: Gets QR code for scanning
      description: Gets QR code if the user is connected but not logged in. If the user is already logged in, QRCode will be empty.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "QRCode": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAABlBMVEX///8AAABVwtN+AAAEw0lEQVR42uyZPa7zqhaGX0ThLmsCkZlGCktMKaU76FxmSkgUmQZWJkA6CuT3avlLvrNvvRMX9x6KXWQ/UhCsn2cR/Lv+v5YhudQ6njEs1bBjqGYDwlJJpoOAArtUbK4Pi5jN3qPAlCkstcAeBazMUaoj78RpxGW4yWYzWVfmzwFLlLX4O+VkkucN5tFDOxiIAvfoA/X4uVQ4sgUcCBTYCG7AEGGKvbdrBabQ8OOyvg3ovm4ynqfLXJ9rvi+303ie5vm/gvZXgK6BLC7fo5hiG4KwW7b6I/2+DJi1+ybVFQyx6o6bbKPVDCyjTwcBZB9uevBtAEafhiosCFH/4kNA8i1gg02B3KxezGbzEjUCDgIwYppR3SNdgtY3H0M1j8xFzCscvg/8uQvZAB9piidv1RXfZhbHdAwAlzsCNCaJDdMF4WQeeSGACZ8BMNl4FZYJA7j2YalPPhhngetHAaZPcyBg2wyYdAk0fKQ5yPja5PcBzTZW4uxJ2bTGwmxnu/BH4vwSgEsYItcCH+VZJt/AYhmHatbXdX8d2JvaTVzxCVW2aVhqheXSqvnR9b4L6AoUx3zX+jZd5rDB5jbLuv0txd8GRs+liuv+TsKloQWujxxRYf5s8gOA7fMVK9PQuDtMNCx2ibIdCMCy1s0yQU6Od9bqim1BuzoOAgzTHOiKv0d5Mt+XClN8DBxN/wxg2G2DbDYNJExCqE+Ne8poXoLxdUA/w5VrnxBQ9fjlqaJMwWgPAzLjtfKRW4A21ojnStX0dX2d5PeB0fawu2pChcuM4bk+tLmbMn0GMJslb5ptDXySbb5W1+0SyVcJOgRIQxSc7X0RUSvGs2DSeaz4gwCMNi/7XNACZc0KbPBtruv2KQA+DVFladBvt4xywhmh1Xd2fx8wzGTUltqCWrHWgqL7Jg8E0hSiFJfbUJ/Fpx3L1OHsVR8+APgoZMclUKvcft2+zTBrwjHArosim4ZcfW4Y4lVWnYXg2A8C9C5aEFXDoEJzmXFyfZoH/p0Wvw7oXoZbNQ823ase1wk2DQ3u7XK/BkzOqovwpM68Ko+jUyPFu6F8H4DvqsAuaUMZJ6+azjTPdS32KMBkLnpQ3VPnbsZgiktALW91/wDQEV5V7gT4JT6L62GRzeV0EDDC7rVFax2ZW6Aa6V5h/FEAgBlSbLrMVScU1s09+jxwG/9q87cB/Yxw3acBsk2Yw+nPf9Y1p88ARlNPtvPkF3LlPQYp8MtSx/FtpF8H4DNrZd8fOtTOxJSzXdo/c/fXAbN2DLeKs1dxHeEZZVWaju/3h18CcDk3qePZpllglDZ89MCq8nIQoDPAVaPi3iAFFwS1xjjr+HcYwD+hri216vBZzQbbZsE44RhAp+sQxfTpApGCoV1NOfsl4pX+nwC65a1uLnkK9TSuVTOhaQ4cBOzvtDcZXU5Bdl28SrF9HqrZJhwD7O/VsZpi7xSz7pXW6ahQ1/dB/RrYf2QhLBmr1lNINVRZfw9BBwArc4SszGlWWd2fxB9cFvJQYKnUUWAgV22y5v1e/ffHpiOAqMLCiOpymwNGtxvk9s8mfwcU2CiydqvJbdKuSX0K8a/KHQDsMQkyeVbtISFif8mRcfwRtF8F/l3/O+s/AQAA///lM0dZSaTeTQAAAABJRU5ErkJggg==" }, "success": true }
  /session/proxy:
    post:
      tags:
        - Session
      summary: Set Proxy Configuration
      description: |
        Sets or disables the proxy configuration for the user.
        Provide a JSON payload with "proxy_url" (e.g. "http://host:port" or "socks5://user:pass@host:port") and "enable" (boolean).
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                proxy_url:
                  type: string
                  description: Proxy URL in format "http://host:port" or "socks5://user:pass@host:port"
                enable:
                  type: boolean
                  description: Whether to enable or disable the proxy.
              required:
                - proxy_url
                - enable
      responses:
        "200":
          description: Proxy configured successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  Details:
                    type: string
                    example: Proxy configured successfully
                  ProxyURL:
                    type: string
                    example: socks5://user:pass@host:port
        "400":
          description: Bad Request
        "500":
          description: Internal Server Error
  /session/s3/config:
    post:
      tags:
        - Session
      summary: Configure S3 Storage
      description: |
        Configures S3 storage settings for the user to store media files.
        Supports AWS S3, MinIO, Backblaze B2, and other S3-compatible services.
        When enabled, media files will be uploaded to S3 and can be accessed via public URLs.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/S3Config'
      responses:
        200:
          description: S3 configuration saved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "S3 configuration saved successfully", "Enabled": true }, "success": true }
        400:
          description: Bad Request
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get S3 Configuration
      description: Retrieves the current S3 storage configuration for the user.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: S3 configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "enabled": true, "endpoint": "https://s3.amazonaws.com", "region": "us-east-1", "bucket": "my-bucket", "access_key": "***", "path_style": false, "public_url": "", "media_delivery": "both", "retention_days": 30 }, "success": true }
        500:
          description: Internal Server Error
    delete:
      tags:
        - Session
      summary: Delete S3 Configuration
      description: Removes the S3 storage configuration for the user and reverts to default base64 media delivery.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: S3 configuration deleted successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "S3 configuration deleted successfully" }, "success": true }
        500:
          description: Internal Server Error
  /session/s3/test:
    post:
      tags:
        - Session
      summary: Test S3 Connection
      description: Tests the S3 connection using the current configuration to ensure it's working properly.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: S3 connection test successful
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "S3 connection test successful", "Bucket": "my-bucket", "Region": "us-east-1" }, "success": true }
        400:
          description: S3 is not enabled or configuration error
        500:
          description: S3 connection test failed
  /session/rabbitmq/config:
    post:
      tags:
        - Session
      summary: Configure RabbitMQ - Advanced with Dynamic Queues
      description: |
        Configures RabbitMQ settings for the user to publish WhatsApp events with **dynamic queues per event type** and **auto-recovery system**.
        
        **🚀 FILAS DINÂMICAS POR EVENTO:**
        - Use placeholders `{user_id}` and `{event_type}` in queue/routing_key patterns
        - System automatically creates event-specific queues as events arrive
        - Example: `user_abc123_event_Message`, `user_abc123_event_Receipt`, etc.
        
        **⚡ AUTO-RECOVERY SYSTEM:**
        - Health check every 30 seconds with automatic reconnection
        - Circuit breaker prevents overload during connectivity issues  
        - Connection pool with retry logic and exponential backoff
        - Queue cache prevents unnecessary recreations
        
        Supports AMQP protocol with exchanges, queues, and routing keys.
        When enabled, WhatsApp events will be published to the configured RabbitMQ server with enterprise-grade reliability.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/RabbitMQConfig'
      responses:
        200:
          description: RabbitMQ configuration saved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "RabbitMQ configuration saved successfully", "Enabled": true }, "success": true }
        400:
          description: Bad Request
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get RabbitMQ Configuration with Queue Statistics
      description: Retrieves the current RabbitMQ configuration for the user including dynamic queue statistics and created queues list.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: RabbitMQ configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "enabled": true, "url": "amqp://user:***@localhost:5672/", "exchange": "whatsapp.events", "exchange_type": "topic", "queue": "whatsapp.user.{user_id}", "queue_type": "classic", "routing_key": "whatsapp.{event_type}", "events": "Message,ReadReceipt,All", "durable": true, "auto_delete": false, "exclusive": false, "no_wait": false, "delivery_mode": 2 }, "success": true }
        500:
          description: Internal Server Error
    delete:
      tags:
        - Session
      summary: Delete RabbitMQ Configuration
      description: Removes the RabbitMQ configuration for the user and disables RabbitMQ event publishing.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: RabbitMQ configuration deleted successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "RabbitMQ configuration deleted successfully" }, "success": true }
        500:
          description: Internal Server Error
  /session/rabbitmq/test:
    post:
      tags:
        - Session
      summary: Test RabbitMQ Connection
      description: Tests the RabbitMQ connection using the current configuration to ensure it's working properly.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: RabbitMQ connection test successful
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "RabbitMQ connection test successful", "Host": "localhost", "Port": 5672, "Exchange": "whatsapp.events" }, "success": true }
        400:
          description: RabbitMQ is not enabled or configuration error
        500:
          description: RabbitMQ connection test failed
  /session/skipmedia/config:
    post:
      tags:
        - Session
      summary: Configure Skip Media Download
      description: |
        Configure whether to skip downloading media files (images, videos, audio, documents, stickers) during WhatsApp events. 
        When enabled, events will only contain WhatsApp metadata without base64 content or S3 uploads, 
        dramatically improving performance for high-volume scenarios.

        **Performance Benefits:**
        - ⚡ Faster event processing (up to 90% improvement)
        - 📊 Reduced bandwidth usage 
        - 💾 Lower storage requirements
        - 🔄 Better performance for high-volume scenarios
        - 📱 Original WhatsApp metadata preserved

        **Configuration Hierarchy:**
        1. Command Line Flag (-skipmedia) - Highest priority
        2. Environment Variable (GLOBAL_SKIP_MEDIA_DOWNLOAD) - Global setting
        3. User Configuration (skip_media_download) - Individual setting
        4. Default Behavior - Normal media processing
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/SkipMediaConfig'
      responses:
        200:
          description: Skip media download configuration updated successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Skip media download configuration updated successfully", "SkipMediaDownload": true }, "success": true }
        400:
          description: Invalid request payload
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get Skip Media Download Configuration
      description: |
        Retrieves the current skip media download configuration for the authenticated user, 
        including both user-specific and global settings.

        **Response includes:**
        - UserSkipMediaDownload: Individual user setting
        - GlobalSkipMediaDownload: Server-wide setting (read-only)
        - Configuration hierarchy status
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Skip media download configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "UserSkipMediaDownload": false, "GlobalSkipMediaDownload": false, "Details": "Skip media download configuration retrieved successfully" }, "success": true }
        500:
          description: Internal Server Error
  /session/skipgroups/config:
    post:
      tags:
        - Session
      summary: Configure Skip Groups
      description: |
        Configure whether to skip processing messages from WhatsApp groups.
        When enabled, the system will ignore all messages from group chats, processing only direct messages.
        This can improve performance and reduce processing overhead for applications that don't need group functionality.
        
        Priority order:
        1. User Configuration (skip_groups) - Individual setting
        2. Global setting (if implemented)
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/SkipGroupsConfig'
      responses:
        200:
          description: Skip groups configuration updated successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Skip groups configuration updated successfully", "SkipGroups": true }, "success": true }
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get Skip Groups Configuration
      description: |
        Retrieves the current skip groups configuration for the authenticated user.
        
        Returns:
        - UserSkipGroups: Individual user setting
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Skip groups configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "UserSkipGroups": false, "Details": "Skip groups configuration retrieved successfully" }, "success": true }
        500:
          description: Internal Server Error
  /session/skipnewsletters/config:
    post:
      tags:
        - Session
      summary: Configure Skip Newsletters
      description: |
        Configure whether to skip processing messages from WhatsApp newsletters.
        When enabled, the system will ignore all messages from newsletter channels, processing only direct messages and groups.
        This can improve performance and reduce processing overhead for applications that don't need newsletter functionality.
        
        Priority order:
        1. User Configuration (skip_newsletters) - Individual setting
        2. Global setting (if implemented)
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/SkipNewslettersConfig'
      responses:
        200:
          description: Skip newsletters configuration updated successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Skip newsletters configuration updated successfully", "SkipNewsletters": true }, "success": true }
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get Skip Newsletters Configuration
      description: |
        Retrieves the current skip newsletters configuration for the authenticated user.
        
        Returns:
        - SkipNewsletters: Individual user setting
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Skip newsletters configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "SkipNewsletters": false, "Details": "Skip newsletters configuration retrieved successfully" }, "success": true }
        500:
          description: Internal Server Error
  /session/skipbroadcasts/config:
    post:
      tags:
        - Session
      summary: Configure Skip Broadcasts
      description: |
        Configure whether to skip processing messages from WhatsApp broadcasts and status updates.
        When enabled, the system will ignore all messages from broadcast lists and status updates, processing only direct messages, groups, and newsletters.
        This can improve performance and reduce processing overhead for applications that don't need broadcast functionality.
        
        Priority order:
        1. User Configuration (skip_broadcasts) - Individual setting
        2. Global setting (if implemented)
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/SkipBroadcastsConfig'
      responses:
        200:
          description: Skip broadcasts configuration updated successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Skip broadcasts configuration updated successfully", "SkipBroadcasts": true }, "success": true }
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get Skip Broadcasts Configuration
      description: |
        Retrieves the current skip broadcasts configuration for the authenticated user.
        
        Returns:
        - SkipBroadcasts: Individual user setting
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Skip broadcasts configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "SkipBroadcasts": false, "Details": "Skip broadcasts configuration retrieved successfully" }, "success": true }
        500:
          description: Internal Server Error
  /session/skipownmessages/config:
    post:
      tags:
        - Session
      summary: Configure Skip Own Messages
      description: |
        Configure whether to skip processing your own sent messages (IsFromMe: true).
        When enabled, the system will ignore all messages that were sent by you, processing only messages received from others.
        This can improve performance and reduce processing overhead for applications that don't need to track outgoing messages.
        
        Priority order:
        1. User Configuration (skip_own_messages) - Individual setting
        2. Global setting (if implemented)
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/SkipOwnMessagesConfig'
      responses:
        200:
          description: Skip own messages configuration updated successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Skip own messages configuration updated successfully", "SkipOwnMessages": true }, "success": true }
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get Skip Own Messages Configuration
      description: |
        Retrieves the current skip own messages configuration for the authenticated user.
        
        Returns:
        - SkipOwnMessages: Individual user setting
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Skip own messages configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "SkipOwnMessages": false, "Details": "Skip own messages configuration retrieved successfully" }, "success": true }
        500:
          description: Internal Server Error
  /session/skipcalls/config:
    post:
      tags:
        - Session
      summary: Configure Skip Calls
      description: |
        Configure automatic call rejection settings for the session.
        When enabled, all incoming calls will be automatically rejected and an optional custom message will be sent to the caller.
        
        Features:
        - Automatic call rejection
        - Customizable rejection message
        - Configurable rejection type (busy, declined, unavailable)
        - Zero-query cache optimization
        
        Priority order:
        1. User Configuration (skip_calls) - Individual setting
        2. Global setting (if implemented)
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/SkipCallsConfig'
      responses:
        200:
          description: Skip calls configuration updated successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Skip calls configuration updated successfully", "SkipCalls": true, "RejectMessage": "Sorry, I cannot take calls at the moment. Please send a message.", "RejectType": "busy" }, "success": true }
        400:
          description: Bad Request - Invalid rejection type
          content:
            application/json:
              schema:
                example: { "code": 400, "error": "invalid reject_type, must be: busy, declined, or unavailable", "success": false }
        500:
          description: Internal Server Error
    get:
      tags:
        - Session
      summary: Get Skip Calls Configuration
      description: |
        Retrieves the current skip calls configuration for the authenticated user.
        
        Returns:
        - SkipCalls: Individual user setting
        - RejectMessage: Custom message sent to callers
        - RejectType: Type of call rejection used
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Skip calls configuration retrieved successfully
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "SkipCalls": false, "RejectMessage": "Sorry, I cannot take calls at the moment.", "RejectType": "busy", "Details": "Skip calls configuration retrieved successfully" }, "success": true }
        500:
          description: Internal Server Error
  /user/info:
    post:
      tags:
        - User
      summary: Get user information
      description: Gets detailed information about WhatsApp users, including status, profile picture, verified names, and device information
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                Phone:
                  oneOf:
                    - type: string
                      description: Single phone number
                      example: "5521971532700"
                    - type: array
                      items:
                        type: string
                      description: Array of phone numbers
                      example: ["5521971532700", "5521979232690"]
              required:
                - Phone
              additionalProperties: false
            examples:
              single_phone:
                summary: Single phone (Phone format)
                value:
                  Phone: "5521971532700"
              multiple_phones:
                summary: Multiple phones (Phone format)
                value:
                  Phone: ["5521971532700", "5521979232690"]
      responses:
        '200':
          description: User information retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  success:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      users:
                        type: object
                        description: Object containing user information indexed by WhatsApp JID
                        additionalProperties:
                          type: object
                          properties:
                            jid:
                              type: string
                              description: WhatsApp JID
                              example: "5521971532700@s.whatsapp.net"
                            status:
                              type: string
                              description: User status message
                              example: "Hey there! I am using WhatsApp."
                            picture_id:
                              type: string
                              description: Profile picture ID
                              example: "1729003008"
                            verified_name:
                              type: string
                              description: Verified business name (if available)
                              example: "Business Name"
                            business_name:
                              type: string
                              description: Business name (if different from verified name)
                              example: "My Business"
                            is_business_account:
                              type: boolean
                              description: Whether this is a business account
                              example: false
                            device_count:
                              type: integer
                              description: Total number of connected devices
                              example: 4
                            first_device:
                              type: string
                              description: JID of the primary device
                              example: "5521971532700@s.whatsapp.net"
                            devices:
                              type: array
                              description: Detailed information about all connected devices
                              items:
                                type: object
                                properties:
                                  user:
                                    type: string
                                    description: User number
                                    example: "5521971532700"
                                  agent:
                                    type: string
                                    description: Device agent ID
                                    example: "0"
                                  device:
                                    type: string
                                    description: Device platform
                                    example: "SAFARI"
                                    enum: ["UNKNOWN", "CHROME", "FIREFOX", "IE", "OPERA", "SAFARI", "EDGE", "DESKTOP", "IPAD", "ANDROID_TABLET", "OHANA", "ALOHA", "CATALINA", "TCL_TV"]
                                  server:
                                    type: string
                                    description: WhatsApp server
                                    example: "s.whatsapp.net"
                                  ad:
                                    type: string
                                    description: Full device address
                                    example: "5521971532700.0:5@s.whatsapp.net"
                                  jid:
                                    type: string
                                    description: Device JID
                                    example: "5521971532700:59@s.whatsapp.net"
              examples:
                success_response:
                  summary: Successful response with multiple users
                  value:
                    code: 200
                    success: true
                    data:
                      users:
                        "5521971532700@s.whatsapp.net":
                          jid: "5521971532700@s.whatsapp.net"
                          status: ""
                          picture_id: "1729003008"
                          is_business_account: false
                          device_count: 4
                          first_device: "5521971532700@s.whatsapp.net"
                          devices:
                            - user: "5521971532700"
                              agent: "0"
                              device: "UNKNOWN"
                              server: "s.whatsapp.net"
                              ad: "5521971532700.0:0@s.whatsapp.net"
                              jid: "5521971532700@s.whatsapp.net"
                            - user: "5521971532700"
                              agent: "0"
                              device: "SAFARI"
                              server: "s.whatsapp.net"
                              ad: "5521971532700.0:5@s.whatsapp.net"
                              jid: "5521971532700:5@s.whatsapp.net"
                            - user: "5521971532700"
                              agent: "0"
                              device: "UNKNOWN"
                              server: "s.whatsapp.net"
                              ad: "5521971532700.0:66@s.whatsapp.net"
                              jid: "5521971532700:66@s.whatsapp.net"
                            - user: "5521971532700"
                              agent: "0"
                              device: "UNKNOWN"
                              server: "s.whatsapp.net"
                              ad: "5521971532700.0:67@s.whatsapp.net"
                              jid: "5521971532700:67@s.whatsapp.net"
                        "5521979232690@s.whatsapp.net":
                          jid: "5521979232690@s.whatsapp.net"
                          status: ""
                          picture_id: "1728656243"
                          is_business_account: false
                          device_count: 3
                          first_device: "5521979232690@s.whatsapp.net"
                          devices:
                            - user: "5521979232690"
                              agent: "0"
                              device: "UNKNOWN"
                              server: "s.whatsapp.net"
                              ad: "5521979232690.0:0@s.whatsapp.net"
                              jid: "5521979232690@s.whatsapp.net"
                            - user: "5521979232690"
                              agent: "0"
                              device: "SAFARI"
                              server: "s.whatsapp.net"
                              ad: "5521979232690.0:5@s.whatsapp.net"
                              jid: "5521979232690:5@s.whatsapp.net"
                            - user: "5521979232690"
                              agent: "0"
                              device: "UNKNOWN"
                              server: "s.whatsapp.net"
                              ad: "5521979232690.0:99@s.whatsapp.net"
                              jid: "5521979232690:99@s.whatsapp.net"
        '400':
          description: Bad request - invalid payload
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 400
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "missing phone numbers in payload. Use 'Phone' or 'phone' field"
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 500
                  success:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "no session"
  /user/privacy/settings:
    get:
      tags:
        - User
      summary: Get user privacy settings
      description: |
        Retrieves the current privacy settings for the authenticated user including:
        - Group add permissions
        - Last seen visibility
        - Status visibility
        - Profile photo visibility
        - Read receipts setting
        - Online status visibility
        - Call add permissions
        
        All settings return values like: "all", "contacts", "contact_blacklist", "none", "match_last_seen", "known"
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Privacy settings retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    type: object
                    properties:
                      group_add:
                        type: string
                        description: "Who can add you to groups"
                        example: "contacts"
                      last_seen:
                        type: string
                        description: "Who can see your last seen"
                        example: "contacts"
                      status:
                        type: string
                        description: "Who can see your status"
                        example: "contacts"
                      profile:
                        type: string
                        description: "Who can see your profile photo"
                        example: "all"
                      read_receipts:
                        type: string
                        description: "Read receipts setting"
                        example: "all"
                      online:
                        type: string
                        description: "Who can see when you're online"
                        example: "match_last_seen"
                      call_add:
                        type: string
                        description: "Who can call you"
                        example: "all"
                  success:
                    type: boolean
                    example: true
                example:
                  code: 200
                  data:
                    group_add: "contacts"
                    last_seen: "contacts"
                    status: "contacts"
                    profile: "all"
                    read_receipts: "all"
                    online: "match_last_seen"
                    call_add: "all"
                  success: true
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /user/pushname:
    post:
      tags:
        - User
      summary: Change user push name (display name)
      description: |
        Changes the push name (display name) for the authenticated user.
        This name appears in chats and contact lists for other WhatsApp users.
        
        **Important Notes:**
        - Push name cannot be empty
        - Changes are synchronized across all devices
        - May take a few minutes to propagate to all contacts
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/ChangePushNameRequest'
      responses:
        200:
          description: Push name updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: "Push name updated successfully"
                      push_name:
                        type: string
                        example: "John Doe"
                  success:
                    type: boolean
                    example: true
                example:
                  code: 200
                  data:
                    success: true
                    message: "Push name updated successfully"
                    push_name: "John Doe"
                  success: true
        400:
          description: Bad request - push name cannot be empty
          content:
            application/json:
              schema:
                example: {"error": "push name cannot be empty"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /user/status:
    get:
      tags:
        - User
      summary: Get user status message
      description: |
        Retrieves the current status message (about text) of the authenticated user.
        This is the text that appears in the "About" section of the user's profile,
        different from ephemeral status broadcasts.
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: User status retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    type: object
                    properties:
                      status:
                        type: string
                        description: "Current status message/about text"
                        example: "Available for work 💼"
                  success:
                    type: boolean
                    example: true
                example:
                  code: 200
                  data:
                    status: "Available for work 💼"
                  success: true
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
    post:
      tags:
        - User
      summary: Set user status message
      description: |
        Updates the status message (about text) for the authenticated user.
        This text appears in the "About" section of the user's profile.
        
        **Important Notes:**
        - This is different from ephemeral status broadcasts
        - The status is visible to contacts based on privacy settings
        - Changes are synchronized across all devices
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/SetMyStatusRequest'
      responses:
        200:
          description: Status updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    type: object
                    properties:
                      success:
                        type: boolean
                        example: true
                      message:
                        type: string
                        example: "Status updated successfully"
                      status:
                        type: string
                        example: "Working from home 🏠"
                  success:
                    type: boolean
                    example: true
                example:
                  code: 200
                  data:
                    success: true
                    message: "Status updated successfully"
                    status: "Working from home 🏠"
                  success: true
        400:
          description: Bad request - invalid JSON payload
          content:
            application/json:
              schema:
                example: {"error": "could not decode payload"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /user/business/profile:
    post:
      tags:
        - User
      summary: Get business profile information
      description: |
        Retrieves detailed business profile information for WhatsApp Business accounts including:
        - Business email and address
        - Business categories
        - Operating hours with timezone
        - Profile options and settings
        
        **Note:** This endpoint only works for WhatsApp Business accounts. 
        Regular personal accounts will return an error.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/BusinessProfileRequest'
      responses:
        200:
          description: Business profile retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    type: object
                    properties:
                      jid:
                        type: string
                        example: "5491155553934@s.whatsapp.net"
                      email:
                        type: string
                        example: "business@company.com"
                      address:
                        type: string
                        example: "123 Business Street, City, Country"
                      categories:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              example: "PROFESSIONAL_SERVICES"
                            name:
                              type: string
                              example: "Professional Services"
                      profile_options:
                        type: object
                        additionalProperties:
                          type: string
                        example:
                          website: "https://company.com"
                          about: "We provide excellent services"
                      business_hours_timezone:
                        type: string
                        example: "America/Argentina/Buenos_Aires"
                      business_hours:
                        type: array
                        items:
                          type: object
                          properties:
                            day_of_week:
                              type: string
                              example: "MONDAY"
                            mode:
                              type: string
                              example: "OPEN"
                            open_time:
                              type: string
                              example: "09:00"
                            close_time:
                              type: string
                              example: "18:00"
                  success:
                    type: boolean
                    example: true
                example:
                  code: 200
                  data:
                    jid: "5491155553934@s.whatsapp.net"
                    email: "business@company.com"
                    address: "123 Business Street, Buenos Aires, Argentina"
                    categories:
                      - id: "PROFESSIONAL_SERVICES"
                        name: "Professional Services"
                      - id: "CONSULTING"
                        name: "Business Consulting"
                    profile_options:
                      website: "https://company.com"
                      about: "We provide excellent professional services"
                    business_hours_timezone: "America/Argentina/Buenos_Aires"
                    business_hours:
                      - day_of_week: "MONDAY"
                        mode: "OPEN"
                        open_time: "09:00"
                        close_time: "18:00"
                      - day_of_week: "FRIDAY"
                        mode: "OPEN"
                        open_time: "09:00"
                        close_time: "17:00"
                  success: true
        400:
          description: Bad request - missing or invalid phone number
          content:
            application/json:
              schema:
                example: {"error": "missing phone number in payload"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /user/check:
    post:
      tags:
        - User
      summary: Checks if user has WhatsApp
      description: Checks if users have an account with WhatsApp
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/Checkuser'


      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Users": [ { "IsInWhatsapp": true, "JID": "5491155553934@s.whatsapp.net", "Query": "5491155553934", "VerifiedName": "Company Name" }, { "IsInWhatsapp": false, "JID": "5521971532700@s.whatsapp.net", "Query": "5521971532700", "VerifiedName": "" } ] }, "success": true }
  /user/presence:
    post:
      tags:
        - User
      summary: Send user global presence
      description: Sends user presence Available or Unavailable
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/UserPresence'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code": 200, "data": {"Details": "Presence set successfuly"}, "success": true}
        400:
          description: Response
          content:
            application/json:
              schema:
                example: {"code": 400,"error": "Invalid presence type. Allowed values: 'available', 'unavailable'","success": false}
  /user/avatar:
    post:
      tags:
        - User
      summary: Gets profile picture information
      description: Gets information about users profile pictures on WhatsApp, either a thumbnail (Preview=true) or full picture.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/Checkavatar'


      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "direct_path": "/v/t61.24694-24/462747675_396645986828450_4384832977029011659_n.jpg?stp=dst-jpg_s96x96_tt6&ccb=11-4&oh=01_Q5Aa1wGBFw0hNQaFWtrLrS0BPrIrq6hN0w96ytplsv7__yI42g&oe=68565151&_nc_sid=5e03e0&_nc_cat=107", "id": "1729003008", "type": "preview", "url": "https://pps.whatsapp.net/v/t61.24694-24/462747675_396645986828450_4384832977029011659_n.jpg?stp=dst-jpg_s96x96_tt6&ccb=11-4&oh=01_Q5Aa1wGBFw0hNQaFWtrLrS0BPrIrq6hN0w96ytplsv7__yI42g&oe=68565151&_nc_sid=5e03e0&_nc_cat=107" }, "success": true }
  /user/contacts:
    get:
      tags:
        - User
      summary: Gets all contacts for the account
      description: Gets complete list of contacts for the connected account
      security:
        - ApiKeyAuth: []
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "5491122223333@s.whatsapp.net": { "BusinessName": "", "FirstName": "", "Found": true, "FullName": "", "PushName": "FOP2" }, "549113334444@s.whatsapp.net": { "BusinessName": "", "FirstName": "", "Found": true, "FullName": "", "PushName": "Guilherme Jansen" } } }
  /user/lid/get:
    get:
      tags:
        - User
      summary: Get LID from Phone/JID (GET)
      description: Convert a phone number or JID to its corresponding LID (Link ID) format using GET method with query parameter
      security:
        - ApiKeyAuth: []
      parameters:
        - name: phone
          in: query
          required: true
          description: Phone number or JID to convert to LID
          schema:
            type: string
            example: "5521971532700@s.whatsapp.net"
      responses:
        200:
          description: Successfully retrieved LID information
          content:
            application/json:
              schema:
                $ref: '#/definitions/LIDResponse'
        400:
          description: Invalid phone/JID format
          content:
            application/json:
              schema:
                example: {"error": "invalid phone/JID format"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
    post:
      tags:
        - User
      summary: Get LID from Phone/JID (POST)
      description: Convert a phone number or JID to its corresponding LID (Link ID) format using POST method with JSON payload
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GetLIDRequest'
      responses:
        200:
          description: Successfully retrieved LID information
          content:
            application/json:
              schema:
                $ref: '#/definitions/LIDResponse'
        400:
          description: Invalid phone/JID format
          content:
            application/json:
              schema:
                example: {"error": "invalid phone/JID format"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /user/lid/from-lid:
    get:
      tags:
        - User
      summary: Get Phone/JID from LID (GET)
      description: Convert a LID (Link ID) to its corresponding phone number or JID using GET method with query parameter
      security:
        - ApiKeyAuth: []
      parameters:
        - name: lid
          in: query
          required: true
          description: LID to convert to phone/JID
          schema:
            type: string
            example: "2:abcd1234efgh5678@lid"
      responses:
        200:
          description: Successfully retrieved phone/JID information
          content:
            application/json:
              schema:
                $ref: '#/definitions/JIDFromLIDResponse'
        400:
          description: Invalid LID format
          content:
            application/json:
              schema:
                example: {"error": "invalid LID format"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
    post:
      tags:
        - User
      summary: Get Phone/JID from LID (POST)
      description: Convert a LID (Link ID) to its corresponding phone number or JID using POST method with JSON payload
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GetJIDFromLIDRequest'
      responses:
        200:
          description: Successfully retrieved phone/JID information
          content:
            application/json:
              schema:
                $ref: '#/definitions/JIDFromLIDResponse'
        400:
          description: Invalid LID format
          content:
            application/json:
              schema:
                example: {"error": "invalid LID format"}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /user/lid/mappings:
    get:
      tags:
        - User
      summary: List LID Mappings
      description: List all LID (Link ID) mappings for the authenticated user, showing the relationship between phone numbers/JIDs and their corresponding LIDs
      security:
        - ApiKeyAuth: []
      parameters:
        - name: limit
          in: query
          required: false
          description: Maximum number of mappings to return (default 100)
          schema:
            type: integer
            default: 100
            example: 50
        - name: offset
          in: query
          required: false
          description: Number of mappings to skip for pagination (default 0)
          schema:
            type: integer
            default: 0
            example: 0
      responses:
        200:
          description: Successfully retrieved LID mappings
          content:
            application/json:
              schema:
                $ref: '#/definitions/LIDMappingsResponse'
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"error": "no session"}
  /chat/delete:
    post:
      tags:
        - Chat 
      summary: Deletes a message sent by user
      description: Deletes a messages sent by the same user
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/DeleteMessage'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Message deleted" }, "success": true }
  /chat/markread:
    post:
      tags:
        - Chat 
      summary: Marks a message as read
      description: Marks one or more received messages as read
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/Markread'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Message(s) marked as read" }, "success": true }
  /chat/react:
    post:
      tags:
        - Chat 
      summary: Reacts to a message
      description: Sends a reaction to some message. Phone, Body and Id are mandatory. If reaction is for your own message, prefix Phone with 'me:'. Body should be the reaction emoji.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/ReactionText'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"3EB06F9067F80BAB89FF","Timestamp":"2022-05-10T12:49:08-03:00"},"success":true}
  /chat/send/text:
    post:
      tags:
        - Chat 
      summary: Sends a text message
      description: Sends a text message. Phone and Body are mandatory. If no Id is supplied, a random one will be generated. ContextInfo is optional and used when repyling to some message. StanzaId is the message id we are replying to and participant who wrote that message. If sending a new message, ContextInfo can be ommited altogether.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageText'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/link:
    post:
      tags:
        - Chat
      summary: Send a link message with automatic preview from metadata.
      description: Send a link message with automatic preview from metadata.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageLink'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/edit:
    post:
      tags:
        - Chat
      summary: Edit an existing message
      description: |
        Edits the content of a previously sent message.
        Only text messages can be edited and only within 15 minutes of sending.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageEdit'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Message edited successfully","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5"},"success":true}
  /chat/send/image:
    post:
      tags:
        - Chat 
      summary: Sends an image/picture message
      description: Sends an image message. Supports both base64 encoded data (image/png or image/jpeg formats) and HTTP(S) URLs pointing to image files.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageImage'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/audio:
    post:
      tags:
        - Chat 
      summary: Sends an audio message
      description: Sends an audio message. Supports both base64 encoded data (opus format, mime type audio/ogg) and HTTP(S) URLs pointing to audio files.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageAudio'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/document:
    post:
      tags:
        - Chat 
      summary: Sends a document message
      description: Sends any document. Supports both base64 encoded data (application/octet-stream mime) and HTTP(S) URLs pointing to document files.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageDocument'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/video:
    post:
      tags:
        - Chat 
      summary: Sends a video message
      description: Sends a video message. Supports both base64 encoded data (video/mp4 or video/3gpp format) and HTTP(S) URLs pointing to video files. Only H.264 video codec and AAC audio codec is supported.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageVideo'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/ptv:
    post:
      tags:
        - Chat 
      summary: Send PTV (Pre-Recorded Transfer Video)
      description: Send a PTV by link or base64 (data URL). Only requires phone and video. PTV messages are sent as pre-recorded video.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessagePTV'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/sticker:
    post:
      tags:
        - Chat 
      summary: Sends a sticker message
      description: Sends a sticker message. Supports both base64 encoded data (image/webp format) and HTTP(S) URLs pointing to sticker files.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageSticker'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/location:
    post:
      tags:
        - Chat 
      summary: Sends a location message
      description: Sends a location message
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageLocation'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/contact:
    post:
      tags:
        - Chat 
      summary: Sends a contact message
      description: Sends a contact message in VCARD format
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageContact'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/list:
    post:
      tags:
        - Chat
      summary: Sends a List message
      description: Sends a List message
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageList'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
  /chat/send/poll:
    post:
      tags:
        - Chat
      summary: Sends a Poll to some group
      description: Sends a Poll message. Group should contain the gid (group id), similar to 120363312246943103@g.us.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessagePoll'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Poll sent successfully","Id":"90B2F8B13FAC8A9CF6B06E99C7834DC5"},"success":true}
  /chat/send/event:
    post:
      tags:
        - Chat
      summary: Send event message
      description: |
        Send calendar event invitation with date, time, location, and description to a WhatsApp contact or group.
        Recipients can add the event to their calendar. Perfect for meetings, appointments, conferences, and scheduled calls.
        
        **Features:**
        - **Event Details**: Name, description, start/end times
        - **Location Support**: GPS coordinates and address
        - **Call Integration**: Schedule video/voice meetings
        - **Guest Management**: Allow additional guests
        - **Cancellation**: Mark events as cancelled
        - **Message Enhancements**: Replies, forwarding, mentions, expiration
        
        **Use Cases:**
        - 📅 Meeting invitations
        - 🎉 Event planning (parties, conferences)
        - 📞 Scheduled calls
        - 🏢 Location-based events
        - ❌ Event cancellations
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/MessageEvent'
            examples:
              business_meeting:
                summary: "Business Meeting"
                description: "Schedule a business meeting with location"
                value:
                  Phone: "5521971532700"
                  Name: "Weekly Team Sync 📅"
                  Description: "Discussion of project updates, blockers, and next steps"
                  StartTime: 2524608000
                  EndTime: 2556143999
                  ExtraGuestsAllowed: true
                  IsScheduleCall: true
                  Location:
                    Name: "Conference Room A, Main Office"
                    DegreesLatitude: -23.5505
                    DegreesLongitude: -46.6333
                  NumberCheck: true
                  ContextInfo:
                    MentionedJID: ["5521971532700@s.whatsapp.net"]
              virtual_event:
                summary: "Virtual Event"
                description: "Online event without physical location"
                value:
                  Phone: "120363312246943103@g.us"
                  Name: "Product Launch Event 🚀"
                  Description: "Join us for the launch of our new product line"
                  StartTime: 1703184000
                  EndTime: 1703191200
                  ExtraGuestsAllowed: true
                  IsScheduleCall: true
                  MentionInfo:
                    MentionAll: true
      responses:
        200:
          description: Event message sent successfully
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Sent","Id":"EVENT_90B2F8B13FAC8A9CF6B06E99C7834DC5","Timestamp":"2022-04-20T12:49:08-03:00"},"success":true}
        400:
          description: Bad request - invalid input
          content:
            application/json:
              schema:
                example: {"code":400,"error":"Missing required field: Name or StartTime","success":false}
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                example: {"code":500,"error":"no session","success":false}
  /chat/downloadimage:
    post:
      tags:
        - Chat 
      summary: Downloads Image from message
      description: Downloads an Image from a message and returns it Base64 media encoded
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/DownloadImage'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Data":"data:image/jpeg;base64,iVBORw0KGgoA5CYII...=","Mimetype":"image/jpeg"},"success":true}
  /chat/downloadvideo:
    post:
      tags:
        - Chat 
      summary: Downloads Video from message
      description: Downloads a Video from a message and returns it Base64 media encoded
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/DownloadImage'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Data":"data:video/mp4;base64,iVBORw0KGgoA5CYII...=","Mimetype":"video/mp4"},"success":true}
  /chat/downloaddocument:
    post:
      tags:
        - Chat 
      summary: Downloads Document from message
      description: Downloads a Document from a message and returns it Base64 media encoded
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/DownloadImage'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Data":"data:application/pdf;base64,iVBORw0KGgoA5CYII...=","Mimetype":"application/pdf"},"success":true}
  /chat/downloadaudio:
    post:
      tags:
        - Chat 
      summary: Downloads Audio from message
      description: Downloads an Audio file from a message and returns it Base64 media encoded
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/DownloadImage'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Data":"data:audio/ogg;base64,T2dnUwACAAAAAAA...=","Mimetype":"audio/ogg"},"success":true}
  /chat/downloadsticker:
    post:
      tags:
        - Chat 
      summary: Downloads Sticker from message
      description: Downloads a Sticker from a message and returns it Base64 media encoded
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/DownloadImage'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Data":"data:image/webp;base64,UklGRroBAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=","Mimetype":"image/webp"},"success":true}
  /chat/presence:
    post:
      tags:
        - Chat 
      summary: Sets chat presence
      description: Sends indication if you are writing or not (state could be either "composing" or "paused"). Optional Media can be set to "audio" for indicating recording a message
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/ChatPresence'

      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Chat presence set successfuly" }, "success": true } 
  /chat/pin:
    post:
      tags:
        - Chat
      summary: Pin or unpin a chat
      description: Pins or unpins a chat in the conversation list. Pinned chats appear at the top of the chat list.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - phone
                - pin
              properties:
                phone:
                  type: string
                  description: Phone number or group JID
                  example: "5491155553333"
                pin:
                  type: boolean
                  description: True to pin, false to unpin
                  example: true
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "success": true, "message": "Chat pinned successfully", "jid": "5491155553333@s.whatsapp.net", "pinned": true }, "success": true }
  /chat/archive:
    post:
      tags:
        - Chat
      summary: Archive or unarchive a chat
      description: Archives or unarchives a chat. Archived chats are hidden from the main chat list. When archiving, the chat is automatically unpinned.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - phone
                - archive
              properties:
                phone:
                  type: string
                  description: Phone number or group JID
                  example: "5491155553333"
                archive:
                  type: boolean
                  description: True to archive, false to unarchive
                  example: true
                last_message_timestamp:
                  type: integer
                  description: Unix timestamp of last message (optional)
                  example: 1703123456
                last_message_id:
                  type: string
                  description: ID of the last message (optional)
                  example: "3EB0794DCEFA60"
                last_message_from_me:
                  type: boolean
                  description: Whether last message was sent by you (optional)
                  example: false
                last_message_remote_jid:
                  type: string
                  description: Remote JID of last message (optional)
                  example: "5491155553333@s.whatsapp.net"
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "success": true, "message": "Chat archived successfully", "jid": "5491155553333@s.whatsapp.net", "archived": true }, "success": true }
  /chat/mute:
    post:
      tags:
        - Chat
      summary: Mute or unmute a chat
      description: Mutes or unmutes notifications for a specific chat. Mute duration can be specified.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - phone
                - mute
              properties:
                phone:
                  type: string
                  description: Phone number or group JID
                  example: "5491155553333"
                mute:
                  type: boolean
                  description: True to mute, false to unmute
                  example: true
                mute_duration:
                  type: string
                  description: Mute duration - "8h", "1w", or "always" (default is "always")
                  example: "8h"
                  enum: ["8h", "1w", "always"]
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "success": true, "message": "Chat muted successfully", "jid": "5491155553333@s.whatsapp.net", "muted": true, "duration": "8h" }, "success": true }
  /chat/star:
    post:
      tags:
        - Chat
      summary: Star or unstar a message
      description: Stars or unstars a specific message. Starred messages can be easily found later.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - chat_jid
                - message_id
                - star
              properties:
                chat_jid:
                  type: string
                  description: JID of the chat containing the message
                  example: "5491155553333@s.whatsapp.net"
                sender_jid:
                  type: string
                  description: JID of message sender (optional, required for group messages)
                  example: "5491155554444@s.whatsapp.net"
                message_id:
                  type: string
                  description: ID of the message to star/unstar
                  example: "3EB0794DCEFA60"
                from_me:
                  type: boolean
                  description: Whether the message was sent by you
                  example: false
                star:
                  type: boolean
                  description: True to star, false to unstar
                  example: true
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "success": true, "message": "Message starred successfully", "chat_jid": "5491155553333@s.whatsapp.net", "message_id": "3EB0794DCEFA60", "starred": true }, "success": true }
  /label/manage:
    post:
      tags:
        - Chat
      summary: Create, edit or delete labels
      description: Manages labels that can be applied to chats and messages for organization.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - label_name
                - label_color
              properties:
                label_id:
                  type: string
                  description: Label ID (auto-generated if not provided for new labels)
                  example: "label_1703123456"
                label_name:
                  type: string
                  description: Name of the label
                  example: "Important"
                label_color:
                  type: integer
                  description: Color code for the label
                  example: 1
                delete:
                  type: boolean
                  description: Set to true to delete the label
                  example: false
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "success": true, "message": "Label created successfully", "label_id": "label_1703123456", "label_name": "Important", "label_color": 1 }, "success": true }
  /label/chat:
    post:
      tags:
        - Chat
      summary: Apply or remove label from chat
      description: Applies or removes a label from a specific chat.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - phone
                - label_id
                - apply
              properties:
                phone:
                  type: string
                  description: Phone number or group JID
                  example: "5491155553333"
                label_id:
                  type: string
                  description: ID of the label to apply/remove
                  example: "label_1703123456"
                apply:
                  type: boolean
                  description: True to apply label, false to remove
                  example: true
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "success": true, "message": "Label applied successfully", "jid": "5491155553333@s.whatsapp.net", "label_id": "label_1703123456", "applied": true }, "success": true }
  /label/message:
    post:
      tags:
        - Chat
      summary: Apply or remove label from message
      description: Applies or removes a label from a specific message.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - phone
                - message_id
                - label_id
                - apply
              properties:
                phone:
                  type: string
                  description: Phone number or group JID
                  example: "5491155553333"
                message_id:
                  type: string
                  description: ID of the message
                  example: "3EB0794DCEFA60"
                label_id:
                  type: string
                  description: ID of the label to apply/remove
                  example: "label_1703123456"
                apply:
                  type: boolean
                  description: True to apply label, false to remove
                  example: true
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "success": true, "message": "Label applied successfully", "jid": "5491155553333@s.whatsapp.net", "message_id": "3EB0794DCEFA60", "label_id": "label_1703123456", "applied": true }, "success": true }
  /group/create:
    post:
      tags:
        - Group
      summary: Create a new WhatsApp group
      description: Creates a new WhatsApp group with the specified name and participants.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/CreateGroup'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "AnnounceVersionID": "1234567890", "DisappearingTimer": 0, "GroupCreated": "2023-12-01T10:00:00Z", "IsAnnounce": false, "IsEphemeral": false, "IsLocked": false, "JID": "120363123456789@g.us", "Name": "My New Group", "NameSetAt": "2023-12-01T10:00:00Z", "NameSetBy": "5491155554444@s.whatsapp.net", "OwnerJID": "5491155554444@s.whatsapp.net", "ParticipantVersionID": "1234567890", "Participants": [{"IsAdmin": true, "IsSuperAdmin": true, "JID": "5491155554444@s.whatsapp.net"}, {"IsAdmin": false, "IsSuperAdmin": false, "JID": "5491155553333@s.whatsapp.net"}] }, "success": true }
  /group/locked:
    post:
      tags:
        - Group
      summary: Set group locked status
      description: Configures whether only admins can modify group info (locked) or all participants can modify (unlocked).
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupLocked'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Group locked setting updated successfully" }, "success": true }
  /group/ephemeral:
    post:
      tags:
        - Group
      summary: Set disappearing timer for group messages
      description: Configures ephemeral/disappearing messages for the group. Messages will automatically disappear after the specified duration.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupEphemeral'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Disappearing timer set successfully" }, "success": true }
  /group/photo/remove:
    post:
      tags:
        - Group
      summary: Remove group photo
      description: Removes the current photo/image from the specified WhatsApp group.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/RemoveGroupPhoto'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Group photo removed successfully" }, "success": true }
  /group/list:
    get:
      tags:
        - Group 
      summary: List subscribed groups
      description: Returns complete list of subscribed groups. By default includes participant information. Use ignoreParticipants=true to exclude participants for better performance.
      security:
        - ApiKeyAuth: []
      parameters:
        - in: query
          name: ignoreParticipants
          schema:
            type: boolean
          required: false
          description: Set to 'true' to exclude participants data from response for better performance (default is false)
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Groups": [ { "AnnounceVersionID": "1650572126123738", "DisappearingTimer": 0, "GroupCreated": "2022-04-21T17:15:26-03:00", "IsAnnounce": false, "IsEphemeral": false, "IsLocked": false, "JID": "120362023605733675@g.us", "Name": "Super Group", "NameSetAt": "2022-04-21T17:15:26-03:00", "NameSetBy": "5491155554444@s.whatsapp.net", "OwnerJID": "5491155554444@s.whatsapp.net", "ParticipantVersionID": "1650234126145738", "Participants": [ { "IsAdmin": true, "IsSuperAdmin": true, "JID": "5491155554444@s.whatsapp.net" }, { "IsAdmin": false, "IsSuperAdmin": false, "JID": "5491155553333@s.whatsapp.net" }, { "IsAdmin": false, "IsSuperAdmin": false, "JID": "5491155552222@s.whatsapp.net" } ], "Topic": "", "TopicID": "", "TopicSetAt": "0001-01-01T00:00:00Z", "TopicSetBy": "" } ] }, "success": true }
  /group/invitelink:
    get:
      tags:
        - Group 
      summary: Get Group Invite Link
      description: Gets the invite link for a group, optionally resetting it to create a new/different one
      security:
        - ApiKeyAuth: []
      parameters:
        - in: query
          name: groupJID
          schema:
            type: string
          required: true
          description: The JID of the group to retrieve information from
        - in: query
          name: reset
          schema:
            type: boolean
          required: false
          description: Whether to revoke the old invite link and generate a new one (default is false)
      responses:
        200:
          description: Successfull response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "InviteLink": "https://chat.whatsapp.com/HffXhYmzzyJGec61oqMXiz" }, "success": true }
  /group/info:
    get:
      tags:
        - Group 
      summary: Gets group information
      description: Retrieves information about a specific group
      security:
        - ApiKeyAuth: []
      parameters:
        - in: query
          name: groupJID
          schema:
            type: string
          required: true
          description: The JID of the group to retrieve information from
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "AnnounceVersionID": "1650572126123738", "DisappearingTimer": 0, "GroupCreated": "2022-04-21T17:15:26-03:00", "IsAnnounce": false, "IsEphemeral": false, "IsLocked": false, "JID": "120362023605733675@g.us", "Name": "Super Group", "NameSetAt": "2022-04-21T17:15:26-03:00", "NameSetBy": "5491155554444@s.whatsapp.net", "OwnerJID": "5491155554444@s.whatsapp.net", "ParticipantVersionID": "1650234126145738", "Participants": [ { "IsAdmin": true, "IsSuperAdmin": true, "JID": "5491155554444@s.whatsapp.net" }, { "IsAdmin": false, "IsSuperAdmin": false, "JID": "5491155553333@s.whatsapp.net" }, { "IsAdmin": false, "IsSuperAdmin": false, "JID": "5491155552222@s.whatsapp.net" } ], "Topic": "", "TopicID": "", "TopicSetAt": "0001-01-01T00:00:00Z", "TopicSetBy": "" }, "success": true }
  /group/photo:
    post:
      tags:
        - Group 
      summary: Changes group photo
      description: Allows you to change a group photo/image. Returns the Picture ID number
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupPhoto'
 
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Group Photo set successfully", "PictureID": "1222332123" }, "success": true }
  /group/leave:
    post:
      tags:
        - Group
      summary: Leave a WhatsApp group
      description: Removes the authenticated user from the specified group.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupLeave'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Left group successfully" }, "success": true }
  /group/name:
    post:
      tags:
        - Group
      summary: Change group name
      description: Updates the name of the specified WhatsApp group.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupName'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Group Name set successfully" }, "success": true }
  /group/topic:
    post:
      tags:
        - Group
      summary: Set group topic/description
      description: Updates the topic or description of the specified WhatsApp group.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupTopic'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Group Topic set successfully" }, "success": true }
  /group/announce:
    post:
      tags:
        - Group
      summary: Set group announce mode
      description: Enables or disables "announce" mode (admin-only messages) for the specified group.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupAnnounce'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Group Announce mode set successfully" }, "success": true }
  /group/join:
    post:
      tags:
        - Group
      summary: Join a WhatsApp group via invite code
      description: Joins the WhatsApp group using the given invite code.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupJoin'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "Details": "Joined group successfully" }, "success": true }
  /group/inviteinfo:
    post:
      tags:
        - Group
      summary: Get information about a group invite code
      description: Returns details about a WhatsApp group given an invite code.
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GroupInviteInfo'
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                example: { "code": 200, "data": { "InviteInfo": { "GroupName": "Test Group", "GroupJID": "120363312246943103@g.us" } }, "success": true }
  /group/updateparticipants:
    post:
      tags:
        - Group
      summary: Add, Remove, Promote or Demote members in group
      description: Manage group members
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/UpdateGroupParticipants'
      responses:
        200:
          description: Response
          content:
            application/json:
              schema:
                example: {"code":200,"data":{"Details":"Added to the group"},"success":true}
  /admin/global/stats:
    get:
      tags:
        - Admin Global
      summary: Get global system statistics
      description: |
        Returns comprehensive statistics for global webhook and RabbitMQ systems including:
        - Connection status and health
        - Active requests and performance metrics
        - Configuration details with masked sensitive data
        - System uptime and availability
        
        Requires admin token authentication.
      security:
        - AdminAuth: []
      responses:
        200:
          description: Global system statistics
          content:
            application/json:
              schema:
                example: {
                  "enabled": true,
                  "webhook": {
                    "enabled": true,
                    "url": "https://your-global-webhook.com/events",
                    "events": ["All"],
                    "timeout": "30s",
                    "maxRetries": 3,
                    "maxConcurrency": 50,
                    "activeRequests": 5,
                    "availableSlots": 45
                  },
                  "rabbitmq": {
                    "enabled": true,
                    "connected": true,
                    "url": "amqp://user:***@rabbitmq:5672/",
                    "exchange": "zuckzapgo.global",
                    "queue": "zuckzapgo.events",
                    "events": ["All"]
                  }
                }
        401:
          description: Unauthorized - Admin token required
          content:
            application/json:
              schema:
                example: {"error": "unauthorized - admin token required"}
  /admin/global/test:
    post:
      tags:
        - Admin Global
      summary: Test global systems connectivity
      description: |
        Tests connectivity and functionality of global webhook and RabbitMQ systems.
        This endpoint performs live connectivity tests and returns detailed results.
        
        Requires admin token authentication.
      security:
        - AdminAuth: []
      responses:
        200:
          description: Test results for global systems
          content:
            application/json:
              schema:
                example: {
                  "webhook": {
                    "enabled": true,
                    "success": true,
                    "error": null,
                    "responseTime": "150ms",
                    "httpStatus": 200
                  },
                  "rabbitmq": {
                    "enabled": true,
                    "success": true,
                    "error": null,
                    "connectionStatus": "connected",
                    "exchangeExists": true,
                    "queueExists": true
                  }
                }
        401:
          description: Unauthorized - Admin token required
          content:
            application/json:
              schema:
                example: {"error": "unauthorized - admin token required"}
  /admin/global/config:
    get:
      tags:
        - Admin Global
      summary: Get global system configuration
      description: |
        Returns current global system configuration and available environment variables.
        Sensitive values like passwords and tokens are masked for security.
        
        Requires admin token authentication.
      security:
        - AdminAuth: []
      responses:
        200:
          description: Global system configuration
          content:
            application/json:
              schema:
                example: {
                  "webhook": {
                    "enabled": true,
                    "url": "https://your-global-webhook.com/events",
                    "events": ["All"],
                    "timeout": "30s",
                    "retryCount": 3,
                    "maxConcurrency": 50
                  },
                  "rabbitmq": {
                    "enabled": true,
                    "url": "amqp://user:***@rabbitmq:5672/",
                    "events": ["All"],
                    "exchange": "zuckzapgo.global",
                    "queue": "zuckzapgo.events",
                    "exchangeType": "topic",
                    "queueType": "classic",
                    "routingKey": "events.#",
                    "durable": true,
                    "autoDelete": false,
                    "deliveryMode": 2
                  },
                  "environment_variables": {
                    "GLOBAL_WEBHOOK_ENABLED": "Set to 'true' to enable global webhook",
                    "GLOBAL_WEBHOOK_URL": "URL for global webhook endpoint",
                    "GLOBAL_WEBHOOK_EVENTS": "Comma-separated list of events (or 'All')",
                    "GLOBAL_RABBITMQ_ENABLED": "Set to 'true' to enable global RabbitMQ",
                    "GLOBAL_RABBITMQ_URL": "RabbitMQ connection URL",
                    "GLOBAL_RABBITMQ_EVENTS": "Comma-separated list of events (or 'All')"
                  }
                }
        401:
          description: Unauthorized - Admin token required
          content:
            application/json:
              schema:
                example: {"error": "unauthorized - admin token required"}
  /admin/global/config/reload:
    post:
      tags:
        - Admin Global
      summary: Reload global configuration
      description: |
        Reloads global webhook and RabbitMQ configurations from environment variables 
        without restarting the service. This allows for dynamic configuration updates 
        in production environments.
        
        Requires admin token authentication.
      security:
        - AdminAuth: []
      responses:
        200:
          description: Configuration reloaded successfully
          content:
            application/json:
              schema:
                example: {
                  "success": true,
                  "message": "Global configurations reloaded successfully",
                  "stats": {
                    "enabled": true,
                    "webhook": {
                      "enabled": true,
                      "url": "https://your-global-webhook.com/events",
                      "events": ["All"]
                    },
                    "rabbitmq": {
                      "enabled": true,
                      "connected": true,
                      "url": "amqp://user:***@rabbitmq:5672/",
                      "exchange": "zuckzapgo.global",
                      "queue": "zuckzapgo.events"
                    }
                  }
                }
        401:
          description: Unauthorized - Admin token required
          content:
            application/json:
              schema:
                example: {"error": "unauthorized - admin token required"}
  /admin/global/event/test:
    post:
      tags:
        - Admin Global
      summary: Send test event through global systems
      description: |
        Sends a test event through the global webhook and RabbitMQ systems to verify 
        end-to-end functionality. This is useful for testing integrations and 
        troubleshooting event delivery.
        
        Requires admin token authentication.
      security:
        - AdminAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/GlobalTestEvent'
      responses:
        200:
          description: Test event dispatched successfully
          content:
            application/json:
              schema:
                example: {
                  "success": true,
                  "message": "Test event dispatched to global systems",
                  "eventType": "AdminTest",
                  "userID": "admin-test",
                  "userToken": "admin-test",
                  "data": {
                    "test": true,
                    "timestamp": 1705312845,
                    "message": "This is a test event sent from the admin panel"
                  }
                }
        400:
          description: Invalid request body
          content:
            application/json:
              schema:
                example: {"error": "invalid JSON"}
        401:
          description: Unauthorized - Admin token required
          content:
            application/json:
              schema:
                example: {"error": "unauthorized - admin token required"}
  /status/send/text:
    post:
      tags:
        - Status
      summary: Send a text status
      description: |
        Sends a text status to WhatsApp. Text status can include background colors and custom fonts.
        
        **Important Notes:**
        - Maximum text length: 650 characters
        - Background color and text color must be in ARGB format (decimal)
        - Use this ARGB generator: https://argb-int-calculator.netlify.app/
        
        **Available Fonts:**
        - 0: SYSTEM
        - 1: SYSTEM_TEXT  
        - 2: FB_SCRIPT
        - 6: SYSTEM_BOLD
        - 7: MORNINGBREEZE_REGULAR
        - 8: CALISTOGA_REGULAR
        - 9: EXO2_EXTRABOLD
        - 10: COURIERPRIME_BOLD
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/StatusText'
      responses:
        200:
          description: Text status sent successfully
          content:
            application/json:
              schema:
                example: {"message_id": "3EB06F9067F80BAB89FF", "timestamp": "2024-01-15T10:30:00Z", "status": "sent", "type": "text_status"}
  /status/send/image:
    post:
      tags:
        - Status
      summary: Send an image status
      description: |
        Sends an image status to WhatsApp. Supports both base64 encoded data and HTTP(S) URLs.
        
        **Supported formats:** JPEG, PNG, GIF, WebP
        **Caption:** Optional text caption can be added
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/StatusImage'
      responses:
        200:
          description: Image status sent successfully
          content:
            application/json:
              schema:
                example: {"message_id": "3EB06F9067F80BAB89FF", "timestamp": "2024-01-15T10:30:00Z", "status": "sent", "type": "image_status"}
  /status/send/video:
    post:
      tags:
        - Status
      summary: Send a video status
      description: |
        Sends a video status to WhatsApp. Supports both base64 encoded data and HTTP(S) URLs.
        
        **Supported formats:** MP4, 3GPP
        **Codec requirements:** H.264 video codec and AAC audio codec
        **Caption:** Optional text caption can be added
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/StatusVideo'
      responses:
        200:
          description: Video status sent successfully
          content:
            application/json:
              schema:
                example: {"message_id": "3EB06F9067F80BAB89FF", "timestamp": "2024-01-15T10:30:00Z", "status": "sent", "type": "video_status"}
  /status/send/audio:
    post:
      tags:
        - Status
      summary: Send an audio status
      description: |
        Sends an audio status to WhatsApp. Supports both base64 encoded data and HTTP(S) URLs.
        
        **Supported formats:** OGG with Opus codec, MP3, M4A
        **PTT option:** Set `ptt: true` to send as voice note
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/StatusAudio'
      responses:
        200:
          description: Audio status sent successfully
          content:
            application/json:
              schema:
                example: {"message_id": "3EB06F9067F80BAB89FF", "timestamp": "2024-01-15T10:30:00Z", "status": "sent", "type": "audio_status", "ptt": false}
  /call/reject/send:
    post:
      tags:
        - Call
      summary: Reject a call and send custom message
      description: Rejects an incoming call with a specific rejection type and optionally sends a custom message to the caller
      security:
        - ApiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/definitions/CallRejectRequest'
      responses:
        200:
          description: Call rejected successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    example: true
                  call_id:
                    type: string
                    example: "call_12345_abcd"
                  call_from:
                    type: string
                    example: "5521971532700@s.whatsapp.net"
                  reject_type:
                    type: string
                    example: "busy"
                  action:
                    type: string
                    example: "rejected"
                  message_sent:
                    type: boolean
                    example: true
                example:
                  success: true
                  call_id: "call_12345_abcd"
                  call_from: "5521971532700@s.whatsapp.net"
                  reject_type: "busy"
                  action: "rejected"
                  message_sent: true
        400:
          description: Bad request - Invalid input or missing required fields
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                examples:
                  missing_fields:
                    value:
                      error: "call_id and call_from are required"
                  invalid_reject_type:
                    value:
                      error: "invalid reject_type, must be: busy, declined, or unavailable"
                  invalid_jid:
                    value:
                      error: "invalid call_from JID: invalid format"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                examples:
                  client_not_initialized:
                    value:
                      error: "client not initialized"
                  client_not_connected:
                    value:
                      error: "client not connected"
                  call_reject_failed:
                    value:
                      error: "failed to reject call: network error"

definitions:
  ContextInfo:
    type: object
    description: "Optional context info for replies"
    properties:
      StanzaId: 
        type: string
        example: "3EB06F9067F80BAB89FF"
        description: "Message ID to reply to"
      Participant: 
        type: string
        example: "5521971532700@s.whatsapp.net"
        description: "JID of original message sender"
      IsForwarded:
        type: boolean
        example: true
        description: "Set to true to mark the message as forwarded. This is the preferred method for forwarding messages."
      MentionedJID:
        type: array
        items:
          type: string
        example: ["5521971532700@s.whatsapp.net", "5491155553934@s.whatsapp.net"]
        description: "Array of JIDs to mention in the message. Use full WhatsApp JID format (number@s.whatsapp.net)."
      MentionAll:
        type: boolean
        example: true
        description: "Set to true to mention all group members"
  User:
    type: object
    properties:
      id:
        type: string
        example: 4e4942c7dee1deef99ab8fd9f7350de5
      name:
        type: string
        example: John Doe
      avatar_url:
        type: string
        example: "https://example.com/avatar.jpg"
        description: "URL of the user's WhatsApp profile avatar"
      token:
        type: string
        example: "1234ABCD"
      webhook:
        type: string
        example: "https://webhook.site/1234567890"
      jid:
        type: string
        example: "5491155551122:12@s.whatsapp.net"
        description: "WhatsApp JID (Jabber ID) of the connected account"
      qrcode:
        type: string
        example: ""
        description: "QR code data for pairing (empty when connected)"
      connected:
        type: boolean
        example: true
        description: "Whether the WhatsApp client is currently connected"
      loggedIn:
        type: boolean
        example: true
        description: "Whether the user is logged into WhatsApp"
      expiration:
        type: integer
        example: 0
        description: "Account expiration timestamp (0 for no expiration)"
      events:
        type: string
        example: "All"
      skip_media_download:
        type: boolean
        example: false
        description: "Whether media download is skipped for this user"
      skip_groups:
        type: boolean
        example: false
        description: "Whether group messages are skipped for this user"
      skip_newsletters:
        type: boolean
        example: false
        description: "Whether newsletter messages are skipped for this user"
      skip_broadcasts:
        type: boolean
        example: false
        description: "Whether broadcast messages are skipped for this user"
      skip_own_messages:
        type: boolean
        example: false
        description: "Whether own messages are skipped for this user"
      skip_calls:
        type: boolean
        example: false
        description: "Whether call events are skipped for this user"
      call_reject_message:
        type: string
        example: "Sorry, I cannot take calls at the moment."
        description: "Custom message sent when rejecting calls"
      call_reject_type:
        type: string
        example: "busy"
        description: "Type of call rejection (busy, decline or unavailable)"
      proxy_config:
        type: object
        properties:
          enabled:
            type: boolean
            example: true
          proxy_url:
            type: string
            example: "https://serverproxy.com:9080"
      s3_config:
        type: object
        properties:
          enabled:
            type: boolean
            example: true
          endpoint:
            type: string
            example: "https://s3.amazonaws.com"
          region:
            type: string
            example: "us-east-1"
          bucket:
            type: string
            example: "my-bucket"
          access_key:
            type: string
            example: "***"
          path_style:
            type: boolean
            example: true
          public_url:
            type: string
            example: "https://s3.amazonaws.com"
          media_delivery:
            type: string
            example: "both"
          retention_days:
            type: integer
            example: 30
          disableACL:
            type: boolean
            example: true
            description: "Set to true for AWS S3 buckets with 'Bucket owner enforced' Object Ownership"
      rabbitmq_config:
        type: object
        properties:
          enabled:
            type: boolean
            example: true
          host:
            type: string
            example: "localhost"
          port:
            type: integer
            example: 5672
          username:
            type: string
            example: "***"
          vhost:
            type: string
            example: "/"
          exchange:
            type: string
            example: "whatsapp.events"
          exchange_type:
            type: string
            example: "topic"
          routing_key:
            type: string
            example: "whatsapp.{event_type}"
          queue:
            type: string
            example: "whatsapp.user.{user_id}"
          queue_type:
            type: string
            example: "classic"
          durable:
            type: boolean
            example: true
          auto_delete:
            type: boolean
            example: false
          events:
            type: array
            items:
              type: string
            example: ["Message", "ReadReceipt"]
      whatsapp_config:
        type: object
        properties:
          wa_version:
            type: string
            example: "2.3000.1026436087"
            description: "WhatsApp version string to emulate. This affects how the client identifies itself to WhatsApp servers."
          wa_platform:
            type: string
            example: "WEB"
            description: "WhatsApp platform being emulated"
          wa_release_channel:
            type: string
            example: "RELEASE"
            description: "WhatsApp release channel"
          wa_web_sub_platform:
            type: string
            example: "WEB_BROWSER"
            description: "WhatsApp web sub-platform"
          wa_os_name:
            type: string
            example: "Mac OS 10"
            description: "Operating system name"
          wa_os_version:
            type: string
            example: "10.15.7"
            description: "Operating system version"
          wa_device_name:
            type: string
            example: "Desktop"
            description: "Device name"
          wa_manufacturer:
            type: string
            example: "Apple"
            description: "Device manufacturer"
          wa_device_board:
            type: string
            example: "Mac-123456"
            description: "Device board identifier"
          wa_locale_language:
            type: string
            example: "en"
            description: "Locale language code"
          wa_locale_country:
            type: string
            example: "US"
            description: "Locale country code"
          wa_mcc:
            type: string
            example: "000"
            description: "Mobile Country Code"
          wa_mnc:
            type: string
            example: "000"
            description: "Mobile Network Code"
          wa_connect_type:
            type: string
            example: "WIFI_UNKNOWN"
            description: "Connection type"
          wa_platform_type:
            type: string
            example: "DESKTOP"
            description: "Platform type"
  CreateUser:
    type: object
    required:
      - name
      - token
    properties:
      name:
        type: string
        example: John Doe
      token:
        type: string
        example: "1234ABCD"
      webhook:
        type: string
        example: "https://webhook.site/1234567890"
        description: "Webhook URL to receive events"
      events:
        type: string
        example: "All"
        description: "Events to subscribe to. Available events include all 47 event types from Message, UndecryptableMessage, Receipt, MediaRetry, ReadReceipt, GroupInfo, JoinedGroup, Picture, BlocklistChange, Blocklist, Connected, Disconnected, ConnectFailure, KeepAliveRestored, KeepAliveTimeout, LoggedOut, ClientOutdated, TemporaryBan, StreamError, StreamReplaced, PairSuccess, PairError, QR, QRScannedWithoutMultidevice, PrivacySettings, PushNameSetting, UserAbout, AppState, AppStateSyncComplete, HistorySync, OfflineSyncCompleted, OfflineSyncPreview, CallOffer, CallAccept, CallTerminate, CallOfferNotice, CallRelayLatency, Presence, ChatPresence, IdentityChange, CATRefreshError, NewsletterJoin, NewsletterLeave, NewsletterMuteChange, NewsletterLiveUpdate, FBMessage, to All (which subscribes to all events). Ex: 'All', 'Message', 'Presence', 'Message,ReadReceipt,Connected'"
      skipMedia:
        type: boolean
        example: false
        description: "Skip processing messages from WhatsApp media. When enabled, only text messages will be processed, improving performance for applications that don't need media functionality. Default is false."
      skipGroups:
        type: boolean
        example: false
        description: "Skip processing messages from WhatsApp groups. When enabled, only direct messages will be processed, improving performance for applications that don't need group functionality. Default is false."
      skipNewsletters:
        type: boolean
        example: false
        description: "Skip processing messages from WhatsApp newsletters. When enabled, newsletter messages will be ignored, improving performance for applications that don't need newsletter functionality. Default is false."
      skipBroadcasts:
        type: boolean
        example: false
        description: "Skip processing messages from WhatsApp broadcasts and status updates. When enabled, broadcast messages and status updates will be ignored, improving performance for applications that don't need broadcast functionality. Default is false."
      skipOwnMessages:
        type: boolean
        example: false
        description: "Skip processing user's own messages. When enabled, messages sent by the user will be ignored, improving performance and avoiding message loops. Default is false."
      skipCalls:
        type: boolean
        example: false
        description: "Skip processing call events. When enabled, call offers, accepts, and terminations will be ignored, improving performance for applications that don't need call functionality. Default is false."
      callRejectMessage:
        type: string
        example: "Sorry, I cannot take calls at the moment."
        description: "Custom message to send when rejecting incoming calls. This message will be sent automatically when calls are rejected. Default is 'Sorry, I cannot take calls at the moment.'"
      callRejectType:
        type: string
        example: "busy"
        description: "Type of call rejection to use. Available options: 'busy' (indicates line is busy) or 'decline' (politely declines the call). Default is 'busy'."
        enum: ["busy", "decline", "unavailable"]

      proxyConfig:
        type: object
        properties:
          enabled:
            type: boolean
            example: true
            description: "Enable proxy for the user, default is false"
          proxyURL:
            type: string
            example: "https://serverproxy.com:9080"
            description: "Proxy URL to use for the user. Format: socks5://user:pass@host:port or http://host:port"
      s3Config:
        type: object
        properties:
          enabled:
            type: boolean
            example: true
            description: "Enable S3 for the user, default is false"
          endpoint:
            type: string
            example: "https://s3.amazonaws.com"
          region:
            type: string
            example: "us-east-1"
          bucket:
            type: string
            example: "my-bucket"
          accessKey:
            type: string
            example: "1234567890"
          secretKey:
            type: string
            example: "1234567890"
          pathStyle:
            type: boolean
            example: true
            description: "Enable path style for the user, default is false"
          publicURL:
            type: string
            example: "https://s3.amazonaws.com"
            description: "Public URL for the user"
          mediaDelivery:
            type: string
            example: "both"
            description: "Media delivery type for the user, default is both"
          retentionDays:
            type: integer
            example: 30
          disableACL:
            type: boolean
            example: true
            description: "Set to true for AWS S3 buckets with 'Bucket owner enforced' Object Ownership"
      rabbitmqConfig:
        type: object
        properties:
          enabled:
            type: boolean
            example: true
            description: "Enable RabbitMQ for the user, default is false"
          url:
            type: string
            example: "amqp://guest:guest@localhost:5672/"
            description: "RabbitMQ connection URL"
          exchange:
            type: string
            example: "whatsapp.events"
            description: "Exchange name for events"
          exchange_type:
            type: string
            example: "topic"
            description: "Exchange type for events (required when enabled)"
            enum: ["topic", "direct", "fanout", "headers"]
          queue:
            type: string
            example: "whatsapp.user.{user_id}"
            description: "Queue name pattern"
          queue_type:
            type: string
            example: "classic"
            description: "Queue type for events (required when enabled)"
            enum: ["classic", "quorum", "stream"]
          routing_key:
            type: string
            example: "whatsapp.{event_type}"
            description: "Routing key pattern"
          events:
            type: string
            example: "All"
            description: "Event types to publish (comma-separated or 'All'). Available events include all 47 event types from Message, UndecryptableMessage, Receipt, MediaRetry, ReadReceipt, GroupInfo, JoinedGroup, Picture, BlocklistChange, Blocklist, Connected, Disconnected, ConnectFailure, KeepAliveRestored, KeepAliveTimeout, LoggedOut, ClientOutdated, TemporaryBan, StreamError, StreamReplaced, PairSuccess, PairError, QR, QRScannedWithoutMultidevice, PrivacySettings, PushNameSetting, UserAbout, AppState, AppStateSyncComplete, HistorySync, OfflineSyncCompleted, OfflineSyncPreview, CallOffer, CallAccept, CallTerminate, CallOfferNotice, CallRelayLatency, Presence, ChatPresence, IdentityChange, CATRefreshError, NewsletterJoin, NewsletterLeave, NewsletterMuteChange, NewsletterLiveUpdate, FBMessage, to All (which subscribes to all events)"
          durable:
            type: boolean
            example: true
            description: "Whether resources should be durable"
          auto_delete:
            type: boolean
            example: false
            description: "Whether resources should auto-delete"
          exclusive:
            type: boolean
            example: false
            description: "Whether queue should be exclusive"
          no_wait:
            type: boolean
            example: false
            description: "Whether to use no-wait mode"
          delivery_mode:
            type: integer
            example: 2
            description: "Message delivery mode (1=non-persistent, 2=persistent)"
      whatsappConfig:
        type: object
        properties:
          waVersion:
            type: string
            example: "2.3000.1025473630"
            description: "WhatsApp version string to emulate. This affects how the client identifies itself to WhatsApp servers."
          waPlatform:
            type: string
            example: "WEB"
            description: "WhatsApp platform type to emulate."
            enum: ["WEB", "ANDROID", "IOS"]
          waReleaseChannel:
            type: string
            example: "RELEASE"
            description: "WhatsApp release channel to emulate."
            enum: ["RELEASE", "BETA"]
          waWebSubPlatform:
            type: string
            example: "WEB_BROWSER"
            description: "WhatsApp web sub-platform for web clients."
            enum: ["WEB_BROWSER", "DARWIN"]
          waOSName:
            type: string
            example: "Mac OS 10"
            description: "Operating system name to report to WhatsApp."
          waOSVersion:
            type: string
            example: "10.15.7"
            description: "Operating system version to report to WhatsApp."
          waDeviceName:
            type: string
            example: "Desktop"
            description: "Device name to report to WhatsApp."
          waManufacturer:
            type: string
            example: "Apple"
            description: "Device manufacturer to report to WhatsApp."
          waDeviceBoard:
            type: string
            example: "Mac-123456"
            description: "Device board identifier to report to WhatsApp."
          waLocaleLanguage:
            type: string
            example: "en"
            description: "Locale language code (ISO 639-1) for the WhatsApp client."
          waLocaleCountry:
            type: string
            example: "US"
            description: "Locale country code (ISO 3166-1 alpha-2) for the WhatsApp client."
          waMCC:
            type: string
            example: "000"
            description: "Mobile Country Code for network identification."
          waMNC:
            type: string
            example: "000"
            description: "Mobile Network Code for network identification."
          waConnectType:
            type: string
            example: "WIFI_UNKNOWN"
            description: "Connection type to report to WhatsApp."
            enum: ["WIFI_UNKNOWN", "CELLULAR_LTE", "CELLULAR_3G", "CELLULAR_2G"]
          waPlatformType:
            type: string
            example: "DESKTOP"
            description: "Platform type for client identification."
            enum: ["DESKTOP", "CHROME", "FIREFOX", "SAFARI", "EDGE"]
  DeleteUser:
    type: object
    properties:
      id:
        type: string
        example: 4e4942c7dee1deef99ab8fd9f7350de5
  GroupPhoto:
    type: object
    properties:
      GroupJID:
        type: string
        example: "120362023605733675@g.us"
      Image:
        type: string
        description: "Image data as base64 data URL (data:image/jpeg;base64,xxx) or HTTP(S) URL (https://example.com/image.jpg). Supported format: JPEG!"
        example: "data:image/jpeg;base64,Akd9300..."
  GroupInfo:
    type: object
    properties:
      GroupJID:
        type: string
        example: "120362023605733675@g.us"
  GroupInviteLink:
    type: object
    properties:
      GroupJID:
        type: string
        example: "120362023605733675@g.us"
      Reset:
        type: boolean
        example: false
  Connect:
    type: object
    properties:
      Subscribe:
        type: string
        example: ["Message","ChatPresence","Connected","All"]
        description: "Array of event types to subscribe to. Available events include all 47 event types from Message, UndecryptableMessage, Receipt, MediaRetry, ReadReceipt, GroupInfo, JoinedGroup, Picture, BlocklistChange, Blocklist, Connected, Disconnected, ConnectFailure, KeepAliveRestored, KeepAliveTimeout, LoggedOut, ClientOutdated, TemporaryBan, StreamError, StreamReplaced, PairSuccess, PairError, QR, QRScannedWithoutMultidevice, PrivacySettings, PushNameSetting, UserAbout, AppState, AppStateSyncComplete, HistorySync, OfflineSyncCompleted, OfflineSyncPreview, CallOffer, CallAccept, CallTerminate, CallOfferNotice, CallRelayLatency, Presence, ChatPresence, IdentityChange, CATRefreshError, NewsletterJoin, NewsletterLeave, NewsletterMuteChange, NewsletterLiveUpdate, FBMessage, to All (which subscribes to all events)"
      Immediate:
        type: boolean
  DownloadImage:
    type: object
    required:
      - Url
      - MediaKey
      - Mimetype
      - FileSHA256
      - FileLength
    properties:
      Url:
        type: string
      DirectPath:
        type: string
      MediaKey:
        type: string
      Mimetype:
        type: string
      FileEncSHA256:
        type: string
      FileSHA256:
        type: string
      FileLength:
        type: number
  ChatPresence:
    type: object
    required: 
      - Phone
      - State
    properties:
      Phone:
        type: string
        example: "5521971532700"
      State:
        type: string
        example: composing
      Media: 
        type: string
        example: audio
  UserPresence:
    type: object
    required:
      - type
    properties:
      type:
        type: string
        example: available
  MessageContact:
    type: object
    required: 
      - Phone
      - Name
      - Vcard
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code"
      Name:
        type: string
        example: "John Doe"
        description: "Contact display name"
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID"
      Vcard:
        type: string
        example: "BEGIN:VCARD\nVERSION:3.0\nN:Doe;John;;;\nFN:John Doe\nORG:Example.com Inc.;\nTITLE:Developer\nEMAIL;type=WORK:johnDoe@example.org\nTEL;type=CELL:+1 781 555 1212\nTEL;type=WORK:+1 617 555 1212\nADR;type=WORK:;;123 Main St;New York;NY;10001;USA\nEND:VCARD\nBEGIN:VCARD\nVERSION:3.0\nN:Smith;Jane;;;\nFN:Jane Smith\nORG:Tech Corp.;\nTITLE:Manager\nEMAIL;type=WORK:jane@techcorp.com\nTEL;type=CELL:+1 781 555 8888\nTEL;type=WORK:+1 617 555 9999\nADR;type=WORK:;;456 Tech Ave;San Francisco;CA;94105;USA\nEND:VCARD"
        description: "Contact information in vCard format"
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator (accepts both 'presence' and 'Presence' for compatibility)"
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds (accepts both 'duration' and 'Duration' for compatibility)"                
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageLocation:
    type: object
    required: 
      - Phone
      - Latitude
      - Longitude
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code"
      Name:
        type: string
        example: "Eiffel Tower"
        description: "Optional location name or description"
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID"
      Latitude:
        type: number
        format: float
        example: 48.858370
        description: "Location latitude coordinate"
      Longitude:
        type: number
        format: float
        example: 2.294481
        description: "Location longitude coordinate"
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator (accepts both 'presence' and 'Presence' for compatibility)"
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds (accepts both 'duration' and 'Duration' for compatibility)" 
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  ReactionText:
    type: object
    required: 
      - Phone
      - Body
      - Id 
    properties:
      Phone:
        type: string
        example: "5521971532700"
      Body:
        type: string
        example: "❤️"
      Id:
        type: string
        example: "me:3EB06F9067F80BAB89FF"
  MessagePoll:
    type: object
    required:
      - Group
      - Header
      - Options
    properties:
      Group:
        type: string
        example: "120363417042313103@g.us"
        description: "Group JID where to send the poll"
      Header:
        type: string
        example: "What's your favorite color?"
        description: "Poll question/header text"
      Options:
        type: array
        description: "Array of poll options (minimum 2, maximum 12)"
        items:
          type: string
          example: "Red"
        minItems: 2
        maxItems: 12
      MaxAnswer:
        type: integer
        example: 1
        description: "Maximum number of answers per user. If not set to 1, all options will be available for selection (accepts both 'max_answer' and 'MaxAnswer' for compatibility)"
      Id:
        type: string
        example: "3EB06F9067F80BAB89FF"
        description: "Optional custom message ID"
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator (accepts both 'presence' and 'Presence' for compatibility)"
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds (accepts both 'duration' and 'Duration' for compatibility)"         
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageList:
    type: object
    required:
      - Phone
      - Text
      - ButtonText
      - Sections
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code. Must include country code without + symbol (e.g., 5521971532700)."
      Id:
        type: string
        example: "LIST_001"
        description: "Optional custom message ID. If not provided, a random one will be generated."
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator (accepts both 'presence' and 'Presence' for compatibility)"
      Text:
        type: string
        example: "Choose one of the options below"
        description: "Main list description text. Maximum 1024 characters. This explains what the list is about."
      Title:
        type: string
        example: "Product Catalog"
        description: "Optional list title/header. Maximum 60 characters. Displayed at the top of the list."
      Footer:
        type: string
        example: "Powered by ZuckZapGo API"
        description: "Optional footer text. Maximum 60 characters. Displayed at the bottom of the list."
      ButtonText:
        type: string
        example: "View Options"
        description: "Text for the main action button that opens the list. Maximum 20 characters."
      Sections:
        type: array
        description: "Array of list sections. Maximum 10 sections allowed."
        maxItems: 10
        items:
          type: object
          required:
            - Title
            - Rows
          properties:
            Title:
              type: string
              example: "Main Products"
              description: "Section title. Maximum 24 characters."
            Rows:
              type: array
              description: "Array of rows in this section. Maximum 10 rows per section."
              maxItems: 10
              items:
                type: object
                required:
                  - RowId
                  - Title
                  - Description
                properties:
                  RowId:
                    type: string
                    example: "product_1"
                    description: "Unique identifier for this row. Used in response callbacks."
                  Title:
                    type: string
                    example: "Premium Package"
                    description: "Row title/name. Maximum 24 characters."
                  Description:
                    type: string
                    example: "Complete package with all features included"
                    description: "Row description. Maximum 72 characters." 
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageText:
    type: object
    required:
      - Phone
      - Body
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code. Must include country code without + symbol (e.g., 5521971532700)."
      Body:
        type: string
        example: "How you doin"
        description: "Text message content. Supports Unicode, emojis, and formatting. Maximum 4096 characters."
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID. If not provided, a random one will be generated."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator before sending message. Useful for natural conversation flow."
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds. Valid values: 86400 (24h), 604800 (7 days), 7776000 (90 days)."
      LinkPreview:
        type: boolean
        example: true
        description: "Set to true to enable automatic link preview for URLs in the message text."
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageLink:
    type: object
    required:
      - Phone
      - Link
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code. Must include country code without + symbol (e.g., 5521971532700)."
      Link:
        type: string
        example: "https://example.com"
        description: "Link to send. Must be a valid URL."
      Caption:
        type: string
        example: "Link Description"
        description: "Optional caption for the link. Maximum 1024 characters. Supports Unicode and emojis."
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID. If not provided, a random one will be generated."
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageImage:
    type: object
    required: 
      - Phone
      - Image 
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code. Must include country code without + symbol (e.g., 5521971532700)."
      Image:
        type: string
        example: "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg=="
        description: "Image data as base64 data URL (data:image/jpeg;base64,xxx) or HTTP(S) URL (https://example.com/image.jpg). Supported formats: JPEG, PNG, GIF, WebP. Maximum size: 5MB."
      Caption:
        type: string
        example: "Image Description"
        description: "Optional caption for the image. Maximum 1024 characters. Supports Unicode and emojis."
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID. If not provided, a random one will be generated."
      MimeType:
        type: string
        example: "image/jpeg"
        description: "Optional MIME type override. Supported: image/jpeg, image/png, image/gif, image/webp. Auto-detected if not provided."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator before sending message."
      ViewOnce:
        type: boolean
        example: true
        description: "Set to true for disappearing message after viewing (view once). Cannot be combined with Duration."
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds. Valid values: 86400 (24h), 604800 (7 days), 7776000 (90 days)."
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageAudio:
    type: object
    required: 
      - Phone
      - Audio
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code. Must include country code without + symbol (e.g., 5521971532700)."
      Audio:
        type: string
        example: "data:audio/ogg;base64,T2dnUwACAAAAAAAAAABK"
        description: "Audio data as base64 data URL (data:audio/ogg;base64,xxx) or HTTP(S) URL (https://example.com/audio.ogg). Supported formats: OGG, MP3, AAC, M4A, WAV. Maximum size: 16MB."
      Caption:
        type: string
        example: "Voice message caption"
        description: "Optional caption for the audio. Maximum 1024 characters. Supports Unicode and emojis."
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID. If not provided, a random one will be generated."
      PTT:
        type: boolean
        example: true
        description: "Set to true for voice note (push-to-talk), false for audio file. Voice notes show with different UI and waveform. Default: true."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate recording indicator before sending message. Useful for natural conversation flow."
      ViewOnce:
        type: boolean
        example: true
        description: "Set to true for disappearing message after viewing (view once). Cannot be combined with Duration."
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds. Valid values: 86400 (24h), 604800 (7 days), 7776000 (90 days)."
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageVideo:
    type: object
    required: 
      - Phone
      - Video 
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code (accepts both 'phone' and 'Phone' for compatibility)"
      Video:
        type: string
        example: "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDE="
        description: "Video data as base64 data URL (data:video/mp4;base64,xxx) or HTTP(S) URL (https://example.com/video.mp4) (accepts both 'video' and 'Video' for compatibility)"
      Caption:
        type: string
        example: "my video"
        description: "Optional caption for the video (accepts both 'caption' and 'Caption' for compatibility)"
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID (accepts both 'id' and 'Id' for compatibility)"
      MimeType:
        type: string
        example: "video/mp4"
        description: "Optional MIME type override (video/mp4, video/3gpp, video/quicktime, video/x-ms-asf) (accepts both 'mimetype' and 'MimeType' for compatibility)"
      JPEGThumbnail:
        type: string
        format: byte
        description: "Optional JPEG thumbnail as base64 string (accepts both 'jpegthumbnail' and 'JPEGThumbnail' for compatibility)"
        example: "/9j/4AAQSkZJRgABAQEAYABgAAD/..."
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator (accepts both 'presence' and 'Presence' for compatibility)"
      ViewOnce:
        type: boolean
        example: true
        description: "Set to true for disappearing message after viewing (accepts both 'view_once' and 'ViewOnce' for compatibility)"
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds (accepts both 'duration' and 'Duration' for compatibility)"
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessagePTV:
    type: object
    required: 
      - Phone
      - Video 
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code (accepts both 'phone' and 'Phone' for compatibility)"
      Video:
        type: string
        example: "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDE="
        description: "Video data as base64 data URL (data:video/mp4;base64,xxx) or HTTP(S) URL (https://example.com/video.mp4) for PTV message (accepts both 'video' and 'Video' for compatibility)"
  MessageEvent:
    type: object
    required:
      - Phone
      - Name
      - StartTime
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code. Must include country code without + symbol (e.g., 5521971532700)."
      Name:
        type: string
        example: "Team Meeting"
        description: "Event title/name. Maximum 255 characters."
      Description:
        type: string
        example: "Weekly team sync meeting to discuss project updates"
        description: "Optional detailed event description. Maximum 1024 characters. Supports Unicode and emojis."
      StartTime:
        type: integer
        format: int64
        example: 2524608000
        description: "Event start time as Unix timestamp (seconds since epoch). Required field."
      EndTime:
        type: integer
        format: int64
        example: 2556143999
        description: "Event end time as Unix timestamp (seconds since epoch). Optional, but recommended."
      ExtraGuestsAllowed:
        type: boolean
        example: true
        description: "Set to true to allow participants to invite additional guests to the event."
      IsCanceled:
        type: boolean
        example: false
        description: "Set to true to mark the event as cancelled. Default: false."
      IsScheduleCall:
        type: boolean
        example: true
        description: "Set to true if this is a scheduled call event (video/voice meeting)."
      Id:
        type: string
        example: "EVENT_001"
        description: "Optional custom message ID. If not provided, a random one will be generated."
      Presence:
        type: integer
        example: 2000
        description: "Milliseconds to simulate typing indicator before sending event."
      NumberCheck:
        type: boolean
        example: true
        description: "Set to true to verify if the phone number is registered on WhatsApp before sending."
      Location:
        type: object
        description: "Optional event location details with GPS coordinates."
        properties:
          Name:
            type: string
            example: "Conference Room A, Main Office"
            description: "Location name or address. Maximum 255 characters."
          DegreesLatitude:
            type: number
            format: float
            example: -23.5505
            description: "Latitude coordinate for the location (GPS)."
          DegreesLongitude:
            type: number
            format: float
            example: -46.6333
            description: "Longitude coordinate for the location (GPS)."
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageSticker:
    type: object
    required: 
      - Phone
      - Sticker
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code"
      Sticker:
        type: string
        example: "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="
        description: "Sticker data as base64 data URL (data:image/webp;base64,xxx) or HTTP(S) URL (https://example.com/sticker.webp)"
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID"
      MimeType:
        type: string
        example: "image/webp"
        description: "Optional MIME type override (image/webp, image/jpeg, image/png, image/gif)"
      PngThumbnail:
        type: string
        format: byte
        description: "Optional PNG thumbnail as base64 string"
        example: "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  MessageDocument:
    type: object
    required: 
      - Phone
      - Document 
      - FileName 
    properties:
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code"
      Document:
        type: string
        example: "data:application/pdf;base64,JVBERi0xLjQKJcOkw7zDtsO..."
        description: "Document data as base64 data URL (data:application/pdf;base64,xxx) or HTTP(S) URL (https://example.com/document.pdf)"
      FileName:
        type: string
        example: "document.pdf"
        description: "Name of the document file with extension"
      Caption:
        type: string
        example: "Important document"
        description: "Optional caption for the document"
      Id:
        type: string
        example: "ABCDABCD1234"
        description: "Optional custom message ID"
      MimeType:
        type: string
        example: "application/pdf"
        description: "Optional MIME type override (application/pdf, application/msword, text/plain, etc.)"
      Presence:
        type: integer
        example: 3000
        description: "Milliseconds to simulate typing indicator (accepts both 'presence' and 'Presence' for compatibility)"
      Duration:
        type: integer
        example: 86400
        description: "Message expiration time in seconds (accepts both 'duration' and 'Duration' for compatibility)"
      ContextInfo:
        $ref: '#/definitions/ContextInfo'
  DeleteMessage:
    type: object
    required:
      - Id
      - Phone
    properties:
      Phone:
        type: string
        example: "5521971532700"
      Id:
        type: string
        example: "1234-abcd-21234"
  Markread:
    type: object
    required:
      - Id
      - Chat
    properties:
      Id:
        type: object
        example: ["AABBCC11223344","DDEEFF55667788"]
      Chat:
        type: string
        example: 5491155553934.0:1@s.whatsapp.net
      Sender:
        type: string
        example: 5491155553111.0:1@s.whatsapp.net
  Pairphone:
    type: object
    required:
      - Phone
    properties:
      Phone:
        type: string
        example: "5491155553934"
  Checkuser:
    type: object
    required:
      - Phone
    properties:
      Phone:
        type: object
        example: ["5491155553934","5521971532700"]
  Checkavatar:
    type: object
    required:
      - Phone
      - Preview
    properties:
      Phone:
        type: string 
        example: "5491155553934"
      Preview:
        type: bool
        example: true
  Webhook:
    type: object
    required:
      - WebhookURL
    properties:
      WebhookURL:
        type: string
        example: http://server/webhook
  WebhookSet:
    type: object
    required:
      - webhook
      - events
    properties:
      webhook:
        type: string
        description: The URL of the webhook
        example: "https://example.net/webhook"
      events:
        type: array
        items:
          type: string
        description: List of events to subscribe to. Available events include all 47 event types from Message, UndecryptableMessage, Receipt, MediaRetry, ReadReceipt, GroupInfo, JoinedGroup, Picture, BlocklistChange, Blocklist, Connected, Disconnected, ConnectFailure, KeepAliveRestored, KeepAliveTimeout, LoggedOut, ClientOutdated, TemporaryBan, StreamError, StreamReplaced, PairSuccess, PairError, QR, QRScannedWithoutMultidevice, PrivacySettings, PushNameSetting, UserAbout, AppState, AppStateSyncComplete, HistorySync, OfflineSyncCompleted, OfflineSyncPreview, CallOffer, CallAccept, CallTerminate, CallOfferNotice, CallRelayLatency, Presence, ChatPresence, IdentityChange, CATRefreshError, NewsletterJoin, NewsletterLeave, NewsletterMuteChange, NewsletterLiveUpdate, FBMessage, to All (which subscribes to all events)
        example: ["Message", "ReadReceipt", "GroupInfo", "Connected", "All"]
  WebhookUpdate:
    type: object
    properties:
      webhook:
        type: string
        description: The URL of the webhook
        example: "https://example.net/webhook"
      events:
        type: array
        items:
          type: string
        description: List of events to subscribe to. Available events include all 47 event types from Message, UndecryptableMessage, Receipt, MediaRetry, ReadReceipt, GroupInfo, JoinedGroup, Picture, BlocklistChange, Blocklist, Connected, Disconnected, ConnectFailure, KeepAliveRestored, KeepAliveTimeout, LoggedOut, ClientOutdated, TemporaryBan, StreamError, StreamReplaced, PairSuccess, PairError, QR, QRScannedWithoutMultidevice, PrivacySettings, PushNameSetting, UserAbout, AppState, AppStateSyncComplete, HistorySync, OfflineSyncCompleted, OfflineSyncPreview, CallOffer, CallAccept, CallTerminate, CallOfferNotice, CallRelayLatency, Presence, ChatPresence, IdentityChange, CATRefreshError, NewsletterJoin, NewsletterLeave, NewsletterMuteChange, NewsletterLiveUpdate, FBMessage, to All (which subscribes to all events)
        example: ["Message", "ReadReceipt", "GroupInfo", "Connected", "All"]
      Active:
        type: boolean
        description: Whether the webhook should be active or not
        example: true
  GroupLeave:
    type: object
    required:
      - GroupJID
    properties:
      GroupJID:
        type: string
        description: The JID of the group to leave (e.g., 120363312246943103@g.us)
        example: 120363312246943103@g.us
  GroupName:
    type: object
    required:
      - GroupJID
      - Name
    properties:
      GroupJID:
        type: string
        description: The JID of the group to rename
        example: 120363312246943103@g.us
      Name:
        type: string
        description: The new name for the group
        example: My New Group Name
  GroupTopic:
    type: object
    required:
      - GroupJID
      - Topic
    properties:
      GroupJID:
        type: string
        description: The JID of the group to set the topic for
        example: 120363312246943103@g.us
      Topic:
        type: string
        description: The new topic/description for the group
        example: Welcome to our project group!
  GroupAnnounce:
    type: object
    required:
      - GroupJID
      - Announce
    properties:
      GroupJID:
        type: string
        description: The JID of the group to set announce mode
        example: 120363312246943103@g.us
      Announce:
        type: boolean
        description: Whether to enable (true) or disable (false) announce mode
        example: true
  GroupJoin:
    type: object
    required:
      - Code
    properties:
      Code:
        type: string
        description: The invite code or link to join the group
        example: HffXhYmzzyJGec61oqMXiz
  GroupInviteInfo:
    type: object
    required:
      - Code
    properties:
      Code:
        type: string
        description: The group invite code to get information for
        example: HffXhYmzzyJGec61oqMXiz
  UpdateGroupParticipants:
    type: object
    required:
      - GroupJID
      - Action
      - Phone
    properties:
      GroupJID:
        type: string
        description: The JID of the group
        example: 120363312246943103@g.us
      Action:
        type: string
        description: Action to perform ("add" to add participants, "remove" to remove participants, "promote" to promote participants, "demote" to demote participants.)
        enum: [add, remove, promote, demote]
        example: add
      Phone:
        type: array
        items:
          type: string
          description: List of participant JIDs (e.g., 5491112345678@s.whatsapp.net or 5491112345678)
        example: [ "5491112345678", "5491123456789@s.whatsapp.net" ]
  CreateGroup:
    type: object
    required:
      - Name
      - Participants
    properties:
      Name:
        type: string
        description: The name for the new group
        example: "My New Group"
      Participants:
        type: array
        items:
          type: string
          description: List of participant phone numbers (without country code prefix symbols)
        example: [ "5491112345678", "5491123456789" ]
  GroupLocked:
    type: object
    required:
      - GroupJID
      - Locked
    properties:
      GroupJID:
        type: string
        description: The JID of the group to configure
        example: "120363312246943103@g.us"
      Locked:
        type: boolean
        description: Whether to lock the group (true) or unlock it (false). When locked, only admins can modify group info.
        example: true
  GroupEphemeral:
    type: object
    required:
      - GroupJID
      - Duration
    properties:
      GroupJID:
        type: string
        description: The JID of the group to configure ephemeral messages
        example: "120363312246943103@g.us"
      Duration:
        type: string
        description: Duration for disappearing messages. Use "24h" for 24 hours, "7d" for 7 days, "90d" for 90 days, or "off" to disable.
        enum: ["24h", "7d", "90d", "off"]
        example: "24h"
  RemoveGroupPhoto:
    type: object
    required:
      - GroupJID
    properties:
      GroupJID:
        type: string
        description: The JID of the group to remove the photo from
        example: "120363312246943103@g.us"
  S3Config:
    type: object
    properties:
      enabled:
        type: boolean
        description: Whether S3 storage is enabled
        example: true
      endpoint:
        type: string
        description: S3 endpoint URL (leave empty for AWS S3)
        example: "https://s3.amazonaws.com"
      region:
        type: string
        description: S3 region
        example: "us-east-1"
      bucket:
        type: string
        description: S3 bucket name
        example: "my-whatsapp-media"
      access_key:
        type: string
        description: S3 access key ID
        example: "AKIAIOSFODNN7EXAMPLE"
      secret_key:
        type: string
        description: S3 secret access key
        example: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
      path_style:
        type: boolean
        description: Use path-style URLs (required for MinIO)
        example: false
      public_url:
        type: string
        description: Custom public URL for accessing files (optional, for CDN)
        example: "https://cdn.example.com"
      media_delivery:
        type: string
        description: Media delivery method
        enum: ["base64", "s3", "both"]
        example: "both"
      retention_days:
        type: integer
        description: Number of days to retain files (0 for no expiration)
      disable_acl:
        type: boolean
        description: Set to true for AWS S3 buckets with "Bucket owner enforced" Object Ownership
        example: true
  RabbitMQConfig:
    type: object
    properties:
      enabled:
        type: boolean
        description: Whether RabbitMQ publishing is enabled
        example: true
      url:
        type: string
        description: RabbitMQ connection URL in format amqp://username:password@host:port/vhost
        example: "amqp://guest:guest@localhost:5672/"
      exchange:
        type: string
        description: Exchange name for publishing events
        example: "whatsapp.events"
      exchange_type:
        type: string
        description: Exchange type for events (required when enabled)
        enum: ["topic", "direct", "fanout", "headers"]
        example: "topic"
      queue:
        type: string
        description: "Queue name pattern with dynamic placeholders. Use {user_id} and {event_type} for automatic queue creation per event type. Examples: 'user_{user_id}_main' (static) or 'user_{user_id}_event_{event_type}' (dynamic per event)"
        example: "user_{user_id}_event_{event_type}"
      queue_type:
        type: string
        description: Queue type for events (required when enabled)
        enum: ["classic", "quorum", "stream"]
        example: "classic"
      routing_key:
        type: string
        description: "Routing key pattern with dynamic placeholders. Use {user_id} and {event_type} for event-specific routing. Example: 'whatsapp.{user_id}.{event_type}' creates keys like 'whatsapp.abc123.Message'"
        example: "whatsapp.{user_id}.{event_type}"
      events:
        type: string
        description: Event types to publish (comma-separated or "All"). Available events include all 47 event types from Message, UndecryptableMessage, Receipt, MediaRetry, ReadReceipt, GroupInfo, JoinedGroup, Picture, BlocklistChange, Blocklist, Connected, Disconnected, ConnectFailure, KeepAliveRestored, KeepAliveTimeout, LoggedOut, ClientOutdated, TemporaryBan, StreamError, StreamReplaced, PairSuccess, PairError, QR, QRScannedWithoutMultidevice, PrivacySettings, PushNameSetting, UserAbout, AppState, AppStateSyncComplete, HistorySync, OfflineSyncCompleted, OfflineSyncPreview, CallOffer, CallAccept, CallTerminate, CallOfferNotice, CallRelayLatency, Presence, ChatPresence, IdentityChange, CATRefreshError, NewsletterJoin, NewsletterLeave, NewsletterMuteChange, NewsletterLiveUpdate, FBMessage, to All (which subscribes to all events)
        example: "Message,ReadReceipt,Connected,All"
      durable:
        type: boolean
        description: Whether the exchange and queue should be durable
        example: true
      auto_delete:
        type: boolean
        description: Whether the exchange and queue should auto-delete when unused
        example: false
      exclusive:
        type: boolean
        description: Whether the queue should be exclusive to this connection
        example: false
      no_wait:
        type: boolean
        description: Whether to use no-wait flag for faster operations
        example: false
      delivery_mode:
        type: integer
        description: Message delivery mode (1=non-persistent, 2=persistent)
        enum: [1, 2]
        example: 2
  SkipMediaConfig:
    type: object
    required:
      - enabled
    properties:
      enabled:
        type: boolean
        description: "Whether to skip downloading media files during WhatsApp events. When enabled, events will only contain metadata without base64 content or S3 uploads, improving performance."
        example: true
    example:
      enabled: true
  SkipGroupsConfig:
    type: object
    required:
      - enabled
    properties:
      enabled:
        type: boolean
        description: "Whether to skip processing messages from WhatsApp groups. When enabled, the system will ignore all messages from group chats, processing only direct messages. This can improve performance and reduce processing overhead for applications that don't need group functionality."
        example: true
    example:
      enabled: true
  SkipNewslettersConfig:
    type: object
    required:
      - enabled
    properties:
      enabled:
        type: boolean
        description: "Whether to skip processing messages from WhatsApp newsletters. When enabled, the system will ignore all messages from newsletter channels, processing only direct messages and groups. This can improve performance and reduce processing overhead for applications that don't need newsletter functionality."
        example: true
    example:
      enabled: true
  SkipBroadcastsConfig:
    type: object
    required:
      - enabled
    properties:
      enabled:
        type: boolean
        description: "Whether to skip processing messages from WhatsApp broadcasts and status updates. When enabled, the system will ignore all messages from broadcast lists and status updates, processing only direct messages, groups, and newsletters. This can improve performance and reduce processing overhead for applications that don't need broadcast functionality."
        example: true
    example:
      enabled: true
  SkipCallsConfig:
    type: object
    required:
      - enabled
    properties:
      enabled:
        type: boolean
        description: "Whether to automatically reject incoming WhatsApp calls. When enabled, all incoming calls will be automatically rejected and an optional message will be sent to the caller."
        example: true
      reject_message:
        type: string
        description: "Optional message to send to the caller after automatically rejecting the call. If not provided, a default message will be used."
        example: "Sorry, I cannot take calls at the moment. Please send a message."
      reject_type:
        type: string
        description: "Type of call rejection to use when automatically rejecting calls."
        enum: ["busy", "declined", "unavailable"]
        example: "busy"
    example:
      enabled: true
      reject_message: "Sorry, I cannot take calls at the moment. Please send a message."
      reject_type: "busy"
  SkipOwnMessagesConfig:
    type: object
    required:
      - enabled
    properties:
      enabled:
        type: boolean
        description: "Whether to skip processing your own sent messages (IsFromMe: true). When enabled, the system will ignore all messages that were sent by you, processing only messages received from others. This can improve performance and reduce processing overhead for applications that don't need to track outgoing messages."
        example: true
    example:
      enabled: true
  MessageEdit:
    type: object
    required:
      - Id
      - Phone
      - Body
    properties:
      Id:
        type: string
        example: "90B2F8B13FAC8A9CF6B06E99C7834DC5"
        description: "Message ID to edit"
      Phone:
        type: string
        example: "5521971532700"
        description: "Phone number with country code"
      Body:
        type: string
        example: "This is the updated message"
        description: "New message content"
      ContextInfo:
        type: object
        description: "Optional context info for replies"
        properties:
          StanzaId: 
            type: string
            example: "3EB06F9067F80BAB89FF"
            description: "Message ID to reply to"
          Participant: 
            type: string
            example: "5521971532700@s.whatsapp.net"
            description: "JID of original message sender"
          IsForwarded:
            type: boolean
            example: true
            description: "Set to true to mark the message as forwarded. This is the preferred method for forwarding messages."
          MentionedJID:
            type: array
            items:
              type: string
            example: ["5521971532700@s.whatsapp.net", "5491155553934@s.whatsapp.net"]
            description: "Array of JIDs to mention in the message. Use full WhatsApp JID format (number@s.whatsapp.net)."
          MentionAll:
            type: boolean
            example: true
            description: "Set to true to mention all group members"
  GlobalTestEvent:
    type: object
    properties:
      event_type:
        type: string
        description: "Type of test event to send"
        example: "AdminTest"
        default: "TestEvent"
      user_id:
        type: string
        description: "User ID for the test event"
        example: "admin-test"
        default: "admin-test"
      user_token:
        type: string
        description: "User token for the test event (optional, defaults to user_id if not provided)"
        example: "admin-test-token"
      data:
        type: object
        description: "Custom data to include in the test event"
        additionalProperties: true
        example: {
          "test": true,
          "message": "This is a test event",
          "timestamp": 1705312845
        }
    example:
      event_type: "AdminTest"
      user_id: "admin-test"
      user_token: "admin-test-token"
      data:
        test: true
        message: "This is a test event sent from the admin panel"
  CallRejectRequest:
    type: object
    required:
      - call_id
      - call_from
      - reject_type
    properties:
      call_id:
        type: string
        description: "The unique identifier of the call to reject"
        example: "call_12345_abcd"
      call_from:
        type: string
        description: "The JID (phone number) of the caller in WhatsApp format"
        example: "5521971532700@s.whatsapp.net"
      reject_type:
        type: string
        description: "The type of rejection to send"
        enum: ["busy", "declined", "unavailable"]
        example: "busy"
      message:
        type: string
        description: "Optional custom message to send to the caller after rejecting"
        example: "Sorry, I'm currently busy and cannot take your call right now. I'll call you back later."
    example:
      call_id: "call_12345_abcd"
      call_from: "5521971532700@s.whatsapp.net"
      reject_type: "busy"
      message: "Sorry, I'm currently busy and cannot take your call right now. I'll call you back later."
  GetLIDRequest:
    type: object
    required:
      - phone
    properties:
      phone:
        type: string
        description: "Phone number or JID to convert to LID"
        example: "5521971532700@s.whatsapp.net"
  GetJIDFromLIDRequest:
    type: object
    required:
      - lid
    properties:
      lid:
        type: string
        description: "LID (Link ID) to convert to phone/JID"
        example: "2:abcd1234efgh5678@lid"
  LIDResponse:
    type: object
    properties:
      success:
        type: boolean
        example: true
      phone:
        type: string
        description: "Original phone/JID provided"
        example: "5521971532700@s.whatsapp.net"
      lid:
        type: string
        description: "Generated LID (Link ID)"
        example: "2:abcd1234efgh5678@lid"
      created_at:
        type: integer
        format: int64
        description: "Unix timestamp when LID was created"
        example: 1640995200
      message:
        type: string
        description: "Success message"
        example: "LID retrieved successfully"
  JIDFromLIDResponse:
    type: object
    properties:
      success:
        type: boolean
        example: true
      lid:
        type: string
        description: "Original LID provided"
        example: "2:abcd1234efgh5678@lid"
      phone:
        type: string
        description: "Phone/JID corresponding to the LID"
        example: "5521971532700@s.whatsapp.net"
      created_at:
        type: integer
        format: int64
        description: "Unix timestamp when LID was created"
        example: 1640995200
      message:
        type: string
        description: "Success message"
        example: "Phone/JID retrieved successfully"
  LIDMapping:
    type: object
    properties:
      id:
        type: integer
        description: "Unique mapping ID"
        example: 1
      phone:
        type: string
        description: "Phone number or JID"
        example: "5521971532700@s.whatsapp.net"
      lid:
        type: string
        description: "Corresponding LID (Link ID)"
        example: "2:abcd1234efgh5678@lid"
      created_at:
        type: integer
        format: int64
        description: "Unix timestamp when mapping was created"
        example: 1640995200
      last_used:
        type: integer
        format: int64
        description: "Unix timestamp when mapping was last used"
        example: 1640995500
      usage_count:
        type: integer
        description: "Number of times this mapping has been used"
        example: 5
  LIDMappingsResponse:
    type: object
    properties:
      success:
        type: boolean
        example: true
      total:
        type: integer
        description: "Total number of mappings for the user"
        example: 150
      limit:
        type: integer
        description: "Maximum number of mappings returned"
        example: 100
      offset:
        type: integer
        description: "Number of mappings skipped"
        example: 0
      mappings:
        type: array
        items:
          $ref: '#/definitions/LIDMapping'
        description: "Array of LID mappings"
      message:
        type: string
        description: "Success message"
        example: "LID mappings retrieved successfully"
  StatusText:
    type: object
    required:
      - text
    properties:
      text:
        type: string
        description: "Text content for the status (maximum 650 characters)"
        maxLength: 650
        example: "Hello World! This is my status update 🌟"
      background_color:
        type: string
        description: "Background color in ARGB decimal format. Use https://argb-int-calculator.netlify.app/ to generate"
        example: "4294967295"
      text_color:
        type: string
        description: "Text color in ARGB decimal format. Use https://argb-int-calculator.netlify.app/ to generate"
        example: "4278190080"
      font:
        type: integer
        description: "Font type (0: SYSTEM, 1: SYSTEM_TEXT, 2: FB_SCRIPT, 6: SYSTEM_BOLD, 7: MORNINGBREEZE_REGULAR, 8: CALISTOGA_REGULAR, 9: EXO2_EXTRABOLD, 10: COURIERPRIME_BOLD)"
        minimum: 0
        maximum: 10
        example: 0
      id:
        type: string
        description: "Optional custom message ID"
        example: "custom-status-id-123"
    example:
      text: "Hello World! This is my status update 🌟"
      background_color: "4294967295"
      text_color: "4278190080"
      font: 7
      id: "custom-status-id-123"
  StatusImage:
    type: object
    required:
      - image
    properties:
      image:
        type: string
        description: "Base64 encoded image data (data:image/jpeg;base64,...) or HTTP(S) URL. Supported formats: JPEG, PNG, GIF, WebP"
        example: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD..."
      caption:
        type: string
        description: "Optional caption text for the image"
        example: "Beautiful sunset today! 🌅"
      id:
        type: string
        description: "Optional custom message ID"
        example: "status-image-123"
    example:
      image: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD..."
      caption: "Beautiful sunset today! 🌅"
      id: "status-image-123"
  StatusVideo:
    type: object
    required:
      - video
    properties:
      video:
        type: string
        description: "Base64 encoded video data (data:video/mp4;base64,...) or HTTP(S) URL. Supported formats: MP4, 3GPP. Requires H.264 video codec and AAC audio codec"
        example: "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDE..."
      caption:
        type: string
        description: "Optional caption text for the video"
        example: "Check out this amazing video! 🎬"
      id:
        type: string
        description: "Optional custom message ID"
        example: "status-video-123"
    example:
      video: "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDE..."
      caption: "Check out this amazing video! 🎬"
      id: "status-video-123"
  StatusAudio:
    type: object
    required:
      - audio
    properties:
      audio:
        type: string
        description: "Base64 encoded audio data (data:audio/ogg;base64,...) or HTTP(S) URL. Supported formats: OGG with Opus codec, MP3, M4A"
        example: "data:audio/ogg;base64,T2dnUwACAAAAAAAAAABK/wAAAAAAAIAuABBT..."
      caption:
        type: string
        description: "Optional caption text for the audio"
        example: "Listen to this! 🎵"
      ptt:
        type: boolean
        description: "Set to true to send as voice note (Push-To-Talk), false for regular audio"
        default: false
        example: false
      id:
        type: string
        description: "Optional custom message ID"
        example: "status-audio-123"
    example:
      audio: "data:audio/ogg;base64,T2dnUwACAAAAAAAAAABK/wAAAAAAAIAuABBT..."
      caption: "Listen to this! 🎵"
      ptt: false
      id: "status-audio-123"
  ChangePushNameRequest:
    type: object
    required:
      - push_name
    properties:
      push_name:
        type: string
        description: "New push name for the user"
        example: "John Doe"
    example:
      push_name: "John Doe"
  SetMyStatusRequest:
    type: object
    required:
      - status
    properties:
      status:
        type: string
        description: "New status message for the user"
        example: "Working from home 🏠"
    example:
      status: "Working from home 🏠"
  BusinessProfileRequest:
    type: object
    required:
      - phone
    properties:
      phone:
        type: string
        description: "Phone number of the WhatsApp Business account to get profile information"
        example: "5491155553934"
    example:
      phone: "5491155553934"
  UserInfoImprovedResponse:
    type: object
    properties:
      code:
        type: integer
        example: 200
      data:
        type: object
        properties:
          jid:
            type: string
            description: "User's WhatsApp JID"
            example: "5491155553934@s.whatsapp.net"
          status:
            type: string
            description: "User's current status message"
            example: "Available for work 💼"
          picture_id:
            type: string
            description: "Profile picture ID"
            example: "1582328807"
          verified_name:
            type: string
            description: "Verified business name (if available)"
            example: "Company Name"
          devices:
            type: array
            items:
              type: object
              properties:
                user:
                  type: string
                  description: "User number"
                  example: "5491155553934"
                agent:
                  type: string
                  description: "Device agent ID"
                  example: "25"
                device:
                  type: string
                  description: "Device platform name"
                  example: "CHROME"
                server:
                  type: string
                  description: "Server domain"
                  example: "s.whatsapp.net"
                ad:
                  type: string
                  description: "Advertisement string"
                  example: "5491155553934.0:6@s.whatsapp.net"
      success:
        type: boolean
        example: true
    example:
      code: 200
      data:
        jid: "5491155553934@s.whatsapp.net"
        status: "Available for work 💼"
        picture_id: "1582328807"
        verified_name: "Company Name"
        devices:
          - user: "5491155553934"
            agent: "25"
            device: "CHROME"
            server: "s.whatsapp.net"
            ad: "5491155553934.0:6@s.whatsapp.net"
          - user: "5491155553934"
            agent: "15"
            device: "DESKTOP"
            server: "s.whatsapp.net"
            ad: "5491155553934.0:0@s.whatsapp.net"
      success: true

components:
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header
      name: token
    AdminAuth:
      type: apiKey
      in: header
      name: Authorization

security:
  - ApiKeyAuth: []